shadow$provide.module$node_modules$codemirror$addon$search$match_highlighter=function(global,require,module,exports){(function(mod){"object"==typeof exports&&"object"==typeof module?mod(require("module$node_modules$codemirror$lib$codemirror"),require("module$node_modules$codemirror$addon$search$matchesonscrollbar")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./matchesonscrollbar"],mod):mod(CodeMirror)})(function(CodeMirror){function State(options){this.options={};for(var name in defaults)this.options[name]=
(options&&options.hasOwnProperty(name)?options:defaults)[name];this.matchesonscroll=this.overlay=this.timeout=null;this.active=!1}function cursorActivity(cm){var state=cm.state.matchHighlighter;(state.active||cm.hasFocus())&&scheduleHighlight(cm,state)}function onFocus(cm){var state=cm.state.matchHighlighter;state.active||(state.active=!0,scheduleHighlight(cm,state))}function scheduleHighlight(cm,state){clearTimeout(state.timeout);state.timeout=setTimeout(function(){highlightMatches(cm)},state.options.delay)}
function addOverlay(cm,query,hasBoundary,style){var state=cm.state.matchHighlighter;cm.addOverlay(state.overlay=makeOverlay(query,hasBoundary,style));state.options.annotateScrollbar&&cm.showMatchesOnScrollbar&&(query=hasBoundary?new RegExp("\\b"+query.replace(/[\\\[.+*?(){|^$]/g,"\\$\x26")+"\\b"):query,state.matchesonscroll=cm.showMatchesOnScrollbar(query,!1,{className:"CodeMirror-selection-highlight-scrollbar"}))}function removeOverlay(cm){var state=cm.state.matchHighlighter;state.overlay&&(cm.removeOverlay(state.overlay),
state.overlay=null,state.matchesonscroll&&(state.matchesonscroll.clear(),state.matchesonscroll=null))}function highlightMatches(cm){cm.operation(function(){var state=cm.state.matchHighlighter;removeOverlay(cm);if(!cm.somethingSelected()&&state.options.showToken){for(var re=!0===state.options.showToken?/[\w$]/:state.options.showToken,cur=cm.getCursor(),line=cm.getLine(cur.line),end=cur=cur.ch;cur&&re.test(line.charAt(cur-1));)--cur;for(;end<line.length&&re.test(line.charAt(end));)++end;cur<end&&addOverlay(cm,
line.slice(cur,end),re,state.options.style)}else if(re=cm.getCursor("from"),line=cm.getCursor("to"),re.line==line.line){if(cur=state.options.wordsOnly){a:if(null!==cm.getRange(re,line).match(/^\w+$/)){if(0<re.ch&&(cur={line:re.line,ch:re.ch-1},cur=cm.getRange(cur,re),null===cur.match(/\W/))){cur=!1;break a}if(line.ch<cm.getLine(re.line).length&&(cur={line:line.line,ch:line.ch+1},cur=cm.getRange(line,cur),null===cur.match(/\W/))){cur=!1;break a}cur=!0}else cur=!1;cur=!cur}cur||(re=cm.getRange(re,line),
state.options.trim&&(re=re.replace(/^\s+|\s+$/g,"")),re.length>=state.options.minChars&&addOverlay(cm,re,!1,state.options.style))}})}function makeOverlay(query,hasBoundary,style){return{token:function(stream){var JSCompiler_temp;if(JSCompiler_temp=stream.match(query))(JSCompiler_temp=!hasBoundary)||(JSCompiler_temp=(!stream.start||!hasBoundary.test(stream.string.charAt(stream.start-1)))&&(stream.pos==stream.string.length||!hasBoundary.test(stream.string.charAt(stream.pos))));if(JSCompiler_temp)return style;
stream.next();stream.skipTo(query.charAt(0))||stream.skipToEnd()}}}var defaults={style:"matchhighlight",minChars:2,delay:100,wordsOnly:!1,annotateScrollbar:!1,showToken:!1,trim:!0};CodeMirror.defineOption("highlightSelectionMatches",!1,function(cm,val,old){old&&old!=CodeMirror.Init&&(removeOverlay(cm),clearTimeout(cm.state.matchHighlighter.timeout),cm.state.matchHighlighter=null,cm.off("cursorActivity",cursorActivity),cm.off("focus",onFocus));if(val){val=cm.state.matchHighlighter=new State(val);if(cm.hasFocus())val.active=
!0,highlightMatches(cm);else cm.on("focus",onFocus);cm.on("cursorActivity",cursorActivity)}})})}
//# sourceMappingURL=module$node_modules$codemirror$addon$search$match_highlighter.js.map
