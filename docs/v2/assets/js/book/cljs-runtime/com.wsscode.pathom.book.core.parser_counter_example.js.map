{"version":3,"sources":["com/wsscode/pathom/book/core/parser_counter_example.cljs"],"mappings":";;;;AAKA,AAAKA,AACH,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAC,AAACC;AAAD,AAAgC,AAACC,AAAM,AAAA,AAAAF,AAAcG;;AAGvD,AAAA,AAAMC,AAAQC,AAAIC;AAAlB,AACE,AAAAC,AAAA,AAAAC,AAAA;AAAA,AAAA,AAAAC,AAAA;;AAAA,AAAA,AAAAC,AAAA,AAAAC,AAAA;AAAAC;AAAA,AAAA,AAAAC,AAAA,AAAAD,AAAA;AAAA,AAAA,AAAA,AAAAC,AAAA;AAAA,AAAAC,AAAA,AAAA,AACsCoB;AADtCnB,AAAA,AAAA,AAAAD,AACiBmB,AAAM5B;AADvBW,AAAA,AAAAD,AACGhB,AAA4CO;AAD/CM,AAAAA;AAAA,AAAA,AAAAK,AAAAL,AAAAI;;AAAA;;;;AAAA,AAAA;;;;AAAA,AAAA,AAAAE,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;AAAA,AAAA,AAAAA,AAAA,AAAAC;;AAAA,AAAAD,AAAA,AAAA;;AAAAA;;AAAAN;;AAAA,AAAA,AAAAQ,AAAA,AAAA,AAAA;AAAA,AAAA,AAAAC,AAAA,AAAAV,AAAAC;AAAA,AAAA,AAAA,AAAAU,AAAAD,AAAA;AAAA;;AAAAA;;;;AAAA,AAAAE,AAAAC;AAAA,AAAA,AAAAC,AAAAb;AAAA,AAAA,AAAAa,AAAA,AAAAF;;AAAAE;AAAA,AAAA,AAAAC,AAAA,AAAAd,AAAA;AAAA,AAAAe,AAAAf;AAAA,AAAA,AAAAe,AAAA,AAAA,AAAAC,AAAA,AAAAhB,AAAA;;AAAAe;AAAA,AAAAJ;;;AAAA;;AAAA,AAAA,AAAA,AAAAD,AAAAF,AAAA;AAAA,AAAAR;;;;AAAAQ;;;;;AAAAR;;;;;AAAAA;;;;;;;;;;AAAAiB,AAAA,AAAAC,AAAA,AAAApB;AAAA,AAAA,AAAAoB,AAAAC,AAAA,AAAAxB;;AAAAuB;;AAAA,AAAA,AAAAE,AAAAH;;;;AAAAtB","names":["com.wsscode.pathom.book.core.parser-counter-example/count-parser","p1__65688#","com.wsscode.pathom.core/parser","cljs.core.swap_BANG_","cljs.core/inc","com.wsscode.pathom.book.core.parser-counter-example/parser","env","tx","c__48839__auto__","cljs.core.async.chan","cljs.core.async.impl.dispatch/run","f__48840__auto__","switch__48139__auto__","state_65693","state_val_65694","inst_65689","inst_65690","inst_65691","cljs.core.async.impl.ioc-helpers/return-chan","statearr-65701","state-machine__48140__auto__","ret-value__48141__auto__","result__48142__auto__","cljs.core/keyword-identical?","ex__48143__auto__","e65702","statearr-65703","cljs.core/seq","statearr-65707","cljs.core/first","state__48841__auto__","statearr-65711","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped","cljs.core.assoc","cljs.core.atom"],"sourcesContent":["(ns com.wsscode.pathom.book.core.parser-counter-example\n  (:require [com.wsscode.pathom.core :as p]\n            [cljs.core.async :refer [go]]))\n\n; tag::parser[]\n(def count-parser\n  (p/parser {::p/env {::p/reader #(swap! (::counter %) inc)}}))\n; end::parser[]\n\n(defn parser [env tx]\n  (go\n    (count-parser (assoc env ::counter (atom 0)) tx)))\n"]}