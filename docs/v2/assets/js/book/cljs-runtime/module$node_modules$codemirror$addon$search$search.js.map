{
"version":3,
"file":"module$node_modules$codemirror$addon$search$search.js",
"lineCount":16,
"mappings":"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",
"sources":["node_modules/codemirror/addon/search/search.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$codemirror$addon$search$search\"] = function(global,require,module,exports) {\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n// Define search commands. Depends on dialog.js or another\n// implementation of the openDialog method.\n\n// Replace works a little oddly -- it will do the replace on the next\n// Ctrl-G (or whatever is bound to findNext) press. You prevent a\n// replace by making sure the match is no longer selected when hitting\n// Ctrl-G.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"./searchcursor\"), require(\"../dialog/dialog\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"./searchcursor\", \"../dialog/dialog\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  function searchOverlay(query, caseInsensitive) {\n    if (typeof query == \"string\")\n      query = new RegExp(query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\"), caseInsensitive ? \"gi\" : \"g\");\n    else if (!query.global)\n      query = new RegExp(query.source, query.ignoreCase ? \"gi\" : \"g\");\n\n    return {token: function(stream) {\n      query.lastIndex = stream.pos;\n      var match = query.exec(stream.string);\n      if (match && match.index == stream.pos) {\n        stream.pos += match[0].length || 1;\n        return \"searching\";\n      } else if (match) {\n        stream.pos = match.index;\n      } else {\n        stream.skipToEnd();\n      }\n    }};\n  }\n\n  function SearchState() {\n    this.posFrom = this.posTo = this.lastQuery = this.query = null;\n    this.overlay = null;\n  }\n\n  function getSearchState(cm) {\n    return cm.state.search || (cm.state.search = new SearchState());\n  }\n\n  function queryCaseInsensitive(query) {\n    return typeof query == \"string\" && query == query.toLowerCase();\n  }\n\n  function getSearchCursor(cm, query, pos) {\n    // Heuristic: if the query string is all lowercase, do a case insensitive search.\n    return cm.getSearchCursor(query, pos, {caseFold: queryCaseInsensitive(query), multiline: true});\n  }\n\n  function persistentDialog(cm, text, deflt, onEnter, onKeyDown) {\n    cm.openDialog(text, onEnter, {\n      value: deflt,\n      selectValueOnOpen: true,\n      closeOnEnter: false,\n      onClose: function() { clearSearch(cm); },\n      onKeyDown: onKeyDown\n    });\n  }\n\n  function dialog(cm, text, shortText, deflt, f) {\n    if (cm.openDialog) cm.openDialog(text, f, {value: deflt, selectValueOnOpen: true});\n    else f(prompt(shortText, deflt));\n  }\n\n  function confirmDialog(cm, text, shortText, fs) {\n    if (cm.openConfirm) cm.openConfirm(text, fs);\n    else if (confirm(shortText)) fs[0]();\n  }\n\n  function parseString(string) {\n    return string.replace(/\\\\(.)/g, function(_, ch) {\n      if (ch == \"n\") return \"\\n\"\n      if (ch == \"r\") return \"\\r\"\n      return ch\n    })\n  }\n\n  function parseQuery(query) {\n    var isRE = query.match(/^\\/(.*)\\/([a-z]*)$/);\n    if (isRE) {\n      try { query = new RegExp(isRE[1], isRE[2].indexOf(\"i\") == -1 ? \"\" : \"i\"); }\n      catch(e) {} // Not a regular expression after all, do a string search\n    } else {\n      query = parseString(query)\n    }\n    if (typeof query == \"string\" ? query == \"\" : query.test(\"\"))\n      query = /x^/;\n    return query;\n  }\n\n  var queryDialog =\n    '<span class=\"CodeMirror-search-label\">Search:</span> <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/> <span style=\"color: #888\" class=\"CodeMirror-search-hint\">(Use /re/ syntax for regexp search)</span>';\n\n  function startSearch(cm, state, query) {\n    state.queryText = query;\n    state.query = parseQuery(query);\n    cm.removeOverlay(state.overlay, queryCaseInsensitive(state.query));\n    state.overlay = searchOverlay(state.query, queryCaseInsensitive(state.query));\n    cm.addOverlay(state.overlay);\n    if (cm.showMatchesOnScrollbar) {\n      if (state.annotate) { state.annotate.clear(); state.annotate = null; }\n      state.annotate = cm.showMatchesOnScrollbar(state.query, queryCaseInsensitive(state.query));\n    }\n  }\n\n  function doSearch(cm, rev, persistent, immediate) {\n    var state = getSearchState(cm);\n    if (state.query) return findNext(cm, rev);\n    var q = cm.getSelection() || state.lastQuery;\n    if (q instanceof RegExp && q.source == \"x^\") q = null\n    if (persistent && cm.openDialog) {\n      var hiding = null\n      var searchNext = function(query, event) {\n        CodeMirror.e_stop(event);\n        if (!query) return;\n        if (query != state.queryText) {\n          startSearch(cm, state, query);\n          state.posFrom = state.posTo = cm.getCursor();\n        }\n        if (hiding) hiding.style.opacity = 1\n        findNext(cm, event.shiftKey, function(_, to) {\n          var dialog\n          if (to.line < 3 && document.querySelector &&\n              (dialog = cm.display.wrapper.querySelector(\".CodeMirror-dialog\")) &&\n              dialog.getBoundingClientRect().bottom - 4 > cm.cursorCoords(to, \"window\").top)\n            (hiding = dialog).style.opacity = .4\n        })\n      };\n      persistentDialog(cm, queryDialog, q, searchNext, function(event, query) {\n        var keyName = CodeMirror.keyName(event)\n        var extra = cm.getOption('extraKeys'), cmd = (extra && extra[keyName]) || CodeMirror.keyMap[cm.getOption(\"keyMap\")][keyName]\n        if (cmd == \"findNext\" || cmd == \"findPrev\" ||\n          cmd == \"findPersistentNext\" || cmd == \"findPersistentPrev\") {\n          CodeMirror.e_stop(event);\n          startSearch(cm, getSearchState(cm), query);\n          cm.execCommand(cmd);\n        } else if (cmd == \"find\" || cmd == \"findPersistent\") {\n          CodeMirror.e_stop(event);\n          searchNext(query, event);\n        }\n      });\n      if (immediate && q) {\n        startSearch(cm, state, q);\n        findNext(cm, rev);\n      }\n    } else {\n      dialog(cm, queryDialog, \"Search for:\", q, function(query) {\n        if (query && !state.query) cm.operation(function() {\n          startSearch(cm, state, query);\n          state.posFrom = state.posTo = cm.getCursor();\n          findNext(cm, rev);\n        });\n      });\n    }\n  }\n\n  function findNext(cm, rev, callback) {cm.operation(function() {\n    var state = getSearchState(cm);\n    var cursor = getSearchCursor(cm, state.query, rev ? state.posFrom : state.posTo);\n    if (!cursor.find(rev)) {\n      cursor = getSearchCursor(cm, state.query, rev ? CodeMirror.Pos(cm.lastLine()) : CodeMirror.Pos(cm.firstLine(), 0));\n      if (!cursor.find(rev)) return;\n    }\n    cm.setSelection(cursor.from(), cursor.to());\n    cm.scrollIntoView({from: cursor.from(), to: cursor.to()}, 20);\n    state.posFrom = cursor.from(); state.posTo = cursor.to();\n    if (callback) callback(cursor.from(), cursor.to())\n  });}\n\n  function clearSearch(cm) {cm.operation(function() {\n    var state = getSearchState(cm);\n    state.lastQuery = state.query;\n    if (!state.query) return;\n    state.query = state.queryText = null;\n    cm.removeOverlay(state.overlay);\n    if (state.annotate) { state.annotate.clear(); state.annotate = null; }\n  });}\n\n  var replaceQueryDialog =\n    ' <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/> <span style=\"color: #888\" class=\"CodeMirror-search-hint\">(Use /re/ syntax for regexp search)</span>';\n  var replacementQueryDialog = '<span class=\"CodeMirror-search-label\">With:</span> <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/>';\n  var doReplaceConfirm = '<span class=\"CodeMirror-search-label\">Replace?</span> <button>Yes</button> <button>No</button> <button>All</button> <button>Stop</button>';\n\n  function replaceAll(cm, query, text) {\n    cm.operation(function() {\n      for (var cursor = getSearchCursor(cm, query); cursor.findNext();) {\n        if (typeof query != \"string\") {\n          var match = cm.getRange(cursor.from(), cursor.to()).match(query);\n          cursor.replace(text.replace(/\\$(\\d)/g, function(_, i) {return match[i];}));\n        } else cursor.replace(text);\n      }\n    });\n  }\n\n  function replace(cm, all) {\n    if (cm.getOption(\"readOnly\")) return;\n    var query = cm.getSelection() || getSearchState(cm).lastQuery;\n    var dialogText = '<span class=\"CodeMirror-search-label\">' + (all ? 'Replace all:' : 'Replace:') + '</span>';\n    dialog(cm, dialogText + replaceQueryDialog, dialogText, query, function(query) {\n      if (!query) return;\n      query = parseQuery(query);\n      dialog(cm, replacementQueryDialog, \"Replace with:\", \"\", function(text) {\n        text = parseString(text)\n        if (all) {\n          replaceAll(cm, query, text)\n        } else {\n          clearSearch(cm);\n          var cursor = getSearchCursor(cm, query, cm.getCursor(\"from\"));\n          var advance = function() {\n            var start = cursor.from(), match;\n            if (!(match = cursor.findNext())) {\n              cursor = getSearchCursor(cm, query);\n              if (!(match = cursor.findNext()) ||\n                  (start && cursor.from().line == start.line && cursor.from().ch == start.ch)) return;\n            }\n            cm.setSelection(cursor.from(), cursor.to());\n            cm.scrollIntoView({from: cursor.from(), to: cursor.to()});\n            confirmDialog(cm, doReplaceConfirm, \"Replace?\",\n                          [function() {doReplace(match);}, advance,\n                           function() {replaceAll(cm, query, text)}]);\n          };\n          var doReplace = function(match) {\n            cursor.replace(typeof query == \"string\" ? text :\n                           text.replace(/\\$(\\d)/g, function(_, i) {return match[i];}));\n            advance();\n          };\n          advance();\n        }\n      });\n    });\n  }\n\n  CodeMirror.commands.find = function(cm) {clearSearch(cm); doSearch(cm);};\n  CodeMirror.commands.findPersistent = function(cm) {clearSearch(cm); doSearch(cm, false, true);};\n  CodeMirror.commands.findPersistentNext = function(cm) {doSearch(cm, false, true, true);};\n  CodeMirror.commands.findPersistentPrev = function(cm) {doSearch(cm, true, true, true);};\n  CodeMirror.commands.findNext = doSearch;\n  CodeMirror.commands.findPrev = function(cm) {doSearch(cm, true);};\n  CodeMirror.commands.clearSearch = clearSearch;\n  CodeMirror.commands.replace = replace;\n  CodeMirror.commands.replaceAll = function(cm) {replace(cm, true);};\n});\n\n};"],
"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","searchOverlay","query","caseInsensitive","RegExp","replace","source","ignoreCase","token","stream","lastIndex","pos","match","exec","string","index","length","skipToEnd","SearchState","overlay","posFrom","posTo","lastQuery","getSearchState","cm","state","search","queryCaseInsensitive","toLowerCase","getSearchCursor","caseFold","multiline","persistentDialog","text","deflt","onEnter","onKeyDown","openDialog","value","selectValueOnOpen","closeOnEnter","onClose","clearSearch","dialog","shortText","f","prompt","confirmDialog","fs","openConfirm","confirm","parseString","_","ch","parseQuery","isRE","indexOf","e","test","startSearch","queryText","removeOverlay","addOverlay","showMatchesOnScrollbar","annotate","clear","doSearch","rev","persistent","immediate","findNext","q","getSelection","hiding","searchNext","event","e_stop","getCursor","style","opacity","shiftKey","to","line","document","querySelector","display","wrapper","getBoundingClientRect","bottom","cursorCoords","top","queryDialog","keyName","extra","getOption","cmd","keyMap","execCommand","operation","callback","cursor","find","Pos","lastLine","firstLine","setSelection","from","scrollIntoView","replaceAll","getRange","i","all","dialogText","replaceQueryDialog","replacementQueryDialog","advance","start","doReplaceConfirm","doReplace","commands","CodeMirror.commands.find","findPersistent","CodeMirror.commands.findPersistent","findPersistentNext","CodeMirror.commands.findPersistentNext","findPersistentPrev","CodeMirror.commands.findPersistentPrev","findPrev","CodeMirror.commands.findPrev","CodeMirror.commands.replaceAll"]
}
