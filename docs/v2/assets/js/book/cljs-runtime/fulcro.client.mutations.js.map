{"version":3,"sources":["fulcro/client/mutations.cljc"],"mappings":"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","names":["js/fulcro","js/fulcro.client","js/fulcro.client.mutations","js/fulcro.client.mutations.mutate","method-table__4613__auto__","cljs.core.atom.cljs$core$IFn$_invoke$arity$1","prefer-table__4614__auto__","method-cache__4615__auto__","cached-hierarchy__4616__auto__","hierarchy__4617__auto__","cljs.core.get.cljs$core$IFn$_invoke$arity$3","fexpr__57134","cljs.core/MultiFn","cljs.core.symbol.cljs$core$IFn$_invoke$arity$2","fulcro.client.mutations/mutate","fulcro.client.primitives/dispatch","js/fulcro.client.mutations.post-mutate","fexpr__57136","fulcro.client.mutations/post-mutate","env","k","p","fulcro-incoming-env","_","cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic","map__57143","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$2","params","state","ref","fulcro.logging._log.cljs$core$IFn$_invoke$arity$variadic","e57146","js/Error","e__48124__auto__","cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4","cljs.core/update-in","st","p__57148","map__57149","map__57153","field","e57156","cljs.core.conj.cljs$core$IFn$_invoke$arity$2","cljs.core/not","p__57169","map__57170","target","e57188","fulcro.client.mutations/toggle!","comp","cljs.core/vec","cljs.core.sequence.cljs$core$IFn$_invoke$arity$1","cljs.core/seq","cljs.core.concat.cljs$core$IFn$_invoke$arity$1","cljs.core/List","cljs.core.concat.cljs$core$IFn$_invoke$arity$2","cljs.core/array-map","fulcro.client.primitives/compressible-transact!","fulcro.client.mutations/set-value!","component","value","fulcro.client.mutations/ensure-integer","v","rv","js/parseInt","js/isNaN","fulcro.client.mutations/target-value","evt","var_args","args__4736__auto__","len__4730__auto__","i__4731__auto__","argseq__4737__auto__","cljs.core/IndexedSeq","fulcro.client.mutations/set-integer!","p__57221","map__57222","seq57212","G__57213","cljs.core/first","cljs.core/next","G__57214","self__4717__auto__","event","and__4120__auto__","or__4131__auto__","fulcro.client.mutations/ensure-double","js/parseFloat","fulcro.client.mutations/set-double!","p__57239","map__57240","seq57231","G__57232","G__57233","fulcro.client.mutations/set-string!","p__57276","map__57277","seq57258","G__57259","G__57260","p__57292","map__57293","map__57298","queryid","query","reconciler","fulcro.client.primitives/set-query*","fulcro.client.impl.protocols/reindex!","p__57316","map__57317","map__57319","data-tree","remote","map__57324","fulcro.client.primitives/app-state","keys","next","cljs.core/deref","fulcro.client.primitives/merge*","fulcro.client.impl.protocols.queue_BANG_.cljs$core$IFn$_invoke$arity$3","cljs.core/reset!","fulcro.client.impl.protocols.reconcile_BANG_.cljs$core$IFn$_invoke$arity$2","map__57327","ast","history","fulcro.client.primitives/get-history","cljs.core.assoc.cljs$core$IFn$_invoke$arity$3","fulcro.client.mutations/returning","class","cljs.core/Symbol","map__57338","key","query'","G__57340","fulcro.client.primitives.get_query.cljs$core$IFn$_invoke$arity$2","p1__57335#","cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$2","cljs.core/meta","fulcro.client.primitives/query->ast1","fulcro.client.mutations/with-target","map__57349","cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$4","cljs.core/assoc","cljs.core/with-meta","fulcro.client.mutations/with-params","fulcro.client.mutations/is-call?","expr","cljs.core/list?","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","cljs.core/count","cljs.core/map?","cljs.core/second","fulcro.client.mutations/with-progressive-updates","progress-mutation","cljs.core.update.cljs$core$IFn$_invoke$arity$6","cljs.core/vary-meta","fulcro.client.mutations/progressive-update-transaction","network-transaction","progress","add-progress","fulcro.client.impl.parser/expr->ast","ast-2","cljs.core.update.cljs$core$IFn$_invoke$arity$5","fulcro.client.impl.parser.ast__GT_expr.cljs$core$IFn$_invoke$arity$1","cljs.core.keep.cljs$core$IFn$_invoke$arity$2","m","G__57367","fulcro.client.mutations/with-abort-id","id","fulcro.client.mutations/abort-ids","tx","cljs.core/set","G__57371","fulcro.client.mutations/remove-ident*","state-map","ident","path-to-idents","new-list","old-list","p1__57373#","cljs.core.filter.cljs$core$IFn$_invoke$arity$2","cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2","cljs.core.update_in.cljs$core$IFn$_invoke$arity$3","fulcro.client.mutations/integrate-ident*","seq57376","G__57377","G__57378","named-parameters","cljs.core.apply.cljs$core$IFn$_invoke$arity$4","fulcro.util/__integrate-ident-impl__"],"sourcesContent":["(ns fulcro.client.mutations\n  #?(:cljs (:require-macros fulcro.client.mutations))\n  (:require\n    [clojure.spec.alpha :as s]\n    [fulcro.util :as util :refer [join-key join-value join?]]\n    [fulcro.logging :as log]\n    [fulcro.client.primitives :as prim]\n    #?(:cljs [cljs.loader :as loader])\n    [fulcro.client.impl.protocols :as p]\n    [fulcro.client.impl.parser :as parser]\n    #?(:clj [cljs.analyzer :as ana])\n    [clojure.string :as str]))\n\n\n#?(:clj (s/def ::action (s/cat\n                          :action-name (fn [sym] (and (symbol? sym) (str/ends-with? (name sym) \"action\")))\n                          :action-args (fn [a] (and (vector? a) (= 1 (count a))))\n                          :action-body (s/+ (constantly true)))))\n\n#?(:clj (s/def ::remote (s/cat\n                          :remote-name (fn [sym] (and (symbol? sym) (not (str/ends-with? (name sym) \"action\"))))\n                          :remote-args (fn [a] (and (vector? a) (= 1 (count a))))\n                          :remote-body (s/+ (constantly true)))))\n\n#?(:clj (s/def ::mutation-args (s/cat\n                                 :sym symbol?\n                                 :doc (s/? string?)\n                                 :arglist vector?\n                                 :sections (s/* (s/or :action ::action :remote ::remote)))))\n#?(:clj\n   (defn defmutation* [macro-env args]\n     (let [conform!        (fn [element spec value]\n                             (when-not (s/valid? spec value)\n                               (throw (ana/error macro-env (str \"Syntax error in \" element \": \" (s/explain-str spec value)))))\n                             (s/conform spec value))\n           {:keys [sym doc arglist sections]} (conform! \"defmutation\" ::mutation-args args)\n           {:keys [actions remotes]} (reduce (fn [result [k v]]\n                                               (if (= :action k)\n                                                 (update result :actions conj v)\n                                                 (update result :remotes conj v)))\n                                       {:actions [] :remotes []}\n                                       sections)\n           fqsym           (if (namespace sym)\n                             sym\n                             (symbol (name (ns-name *ns*)) (name sym)))\n           intern?         (-> sym meta :intern)\n           interned-symbol (cond\n                             (string? intern?) (symbol (namespace fqsym) (str (name fqsym) intern?))\n                             (symbol? intern?) intern?\n                             :else fqsym)\n           env-symbol      'fulcro-incoming-env\n           action-blocks   (map (fn [{:keys [action-name action-args action-body]}]\n                                  `(let [~(first action-args) ~env-symbol]\n                                     {~(keyword (name action-name)) (fn [] ~@action-body)}))\n                             actions)\n           primary-action  (first (filter #(= 'action (:action-name %)) action-blocks))\n           doc             (or doc \"\")\n           remote-blocks   (map (fn [{:keys [remote-name remote-args remote-body]}]\n                                  `(let [~(first remote-args) ~env-symbol]\n                                     {~(keyword (name remote-name)) (do ~@remote-body)}))\n                             remotes)\n           multimethod     `(defmethod fulcro.client.mutations/mutate '~fqsym [~env-symbol ~'_ ~(first arglist)]\n                              (merge\n                                ~@action-blocks\n                                ~@remote-blocks))]\n       (if (and primary-action intern?)\n         `(def ~interned-symbol ~doc\n            (do\n              ~multimethod\n              (fn [~(first (:action-args primary-action)) ~(first arglist)]\n                ~@(:action-body primary-action))))\n         multimethod))))\n\n#?(:clj\n   (defmacro ^{:doc      \"Define a Fulcro mutation.\n\n                       The given symbol will be prefixed with the namespace of the current namespace, as if\n                       it were def'd into the namespace.\n\n                       The arglist should be the *parameter* arglist of the mutation, NOT the complete argument list\n                       for the equivalent defmethod. For example:\n\n                          (defmutation boo [{:keys [id]} ...) => (defmethod m/mutate *ns*/boo [{:keys [state ref]} _ {:keys [id]}] ...)\n\n                       The mutation may include any combination of action and any number of remotes (by the remote name).\n\n                       If `action` is supplied, it must be first.\n\n                       (defmutation boo \\\"docstring\\\" [params-map]\n                         (action [env] ...)\n                         (my-remote [env] ...)\n                         (other-remote [env] ...)\n                         (remote [env] ...))\n\n                       There is special support for placing the action as a var in the namespace. This support\n                       only work when using a plain symbol. Simple add `:intern` metadata to the symbol. If\n                       the metadata is true, it will intern the symbol as-is. It it is a string, it will suffix\n                       the symbol with that string. If it is a symbol, it will use that symbol. The interned\n                       symbol will act like the action side of the mutation, and has the signature:\n                       `(fn [env params])`. This is also useful in devcards for using mkdn-pprint-source on mutations,\n                       and should give you docstring and navigation support from nREPL.\n                       \"\n               :arglists '([sym docstring? arglist action]\n                            [sym docstring? arglist action remote]\n                            [sym docstring? arglist remote])} defmutation\n     [& args]\n     (defmutation* &env args)))\n\n;; Add methods to this to implement your local mutations\n(defmulti mutate prim/dispatch)\n\n;; Add methods to this to implement post mutation behavior (called after each mutation): WARNING: EXPERIMENTAL.\n(defmulti post-mutate prim/dispatch)\n(defmethod post-mutate :default [env k p] nil)\n\n#?(:cljs\n   (fulcro.client.mutations/defmutation set-props\n     \"\n     mutation: A convenience helper, generally used 'bit twiddle' the data on a particular database table (using the component's ident).\n     Specifically, merge the given `params` into the state of the database object at the component's ident.\n     In general, it is recommended this be used for ui-only properties that have no real use outside of the component.\n     \"\n     [params]\n     (action [{:keys [state ref]}]\n       (when (nil? ref) (log/error \"ui/set-props requires component to have an ident.\"))\n       (swap! state update-in ref (fn [st] (merge st params))))))\n\n#?(:cljs\n   (fulcro.client.mutations/defmutation toggle\n     \"mutation: A helper method that toggles the true/false nature of a component's state by ident.\n      Use for local UI data only. Use your own mutations for things that have a good abstract meaning. \"\n     [{:keys [field]}]\n     (action [{:keys [state ref]}]\n       (when (nil? ref) (log/error \"ui/toggle requires component to have an ident.\"))\n       (swap! state update-in (conj ref field) not))))\n\n(defmethod mutate :default [{:keys [target]} k _]\n  (when (nil? target)\n    (log/error \"Unknown app state mutation. Have you required the file with your mutations?\" k)))\n\n\n(defn toggle!\n  \"Toggle the given boolean `field` on the specified component. It is recommended you use this function only on\n  UI-related data (e.g. form checkbox checked status) and write clear top-level transactions for anything more complicated.\"\n  [comp field]\n  (prim/compressible-transact! comp `[(toggle {:field ~field})]))\n\n(defn set-value!\n  \"Set a raw value on the given `field` of a `component`. It is recommended you use this function only on\n  UI-related data (e.g. form inputs that are used by the UI, and not persisted data). Changes made via these\n  helpers are compressed in the history.\"\n  [component field value]\n  (prim/compressible-transact! component `[(set-props ~{field value})]))\n\n#?(:cljs\n   (defn- ensure-integer\n     \"Helper for set-integer!, use that instead. It is recommended you use this function only on UI-related\n     data (e.g. data that is used for display purposes) and write clear top-level transactions for anything else.\"\n     [v]\n     (let [rv (js/parseInt v)]\n       (if (js/isNaN rv) 0 rv)))\n   :clj\n   (defn- ensure-integer [v] (Integer/parseInt v)))\n\n(defn target-value [evt] (.. evt -target -value))\n\n(defn set-integer!\n  \"Set the given integer on the given `field` of a `component`. Allows same parameters as `set-string!`.\n\n   It is recommended you use this function only on UI-related data (e.g. data that is used for display purposes)\n   and write clear top-level transactions for anything else. Calls to this are compressed in history.\"\n  [component field & {:keys [event value]}]\n  (assert (and (or event value) (not (and event value))) \"Supply either :event or :value\")\n  (let [value (ensure-integer (if event (target-value event) value))]\n    (set-value! component field value)))\n\n#?(:cljs\n   (defn- ensure-double [v]\n     (let [rv (js/parseFloat v)]\n       (if (js/isNaN rv) 0 rv)))\n   :clj\n   (defn- ensure-double [v] (Double/parseDouble v)))\n\n(defn set-double!\n  \"Set the given double on the given `field` of a `component`. Allows same parameters as `set-string!`.\n\n   It is recommended you use this function only on UI-related data (e.g. data that is used for display purposes)\n   and write clear top-level transactions for anything else. Calls to this are compressed in history.\"\n  [component field & {:keys [event value]}]\n  (assert (and (or event value) (not (and event value))) \"Supply either :event or :value\")\n  (let [value (ensure-double (if event (target-value event) value))]\n    (set-value! component field value)))\n\n(defn set-string!\n  \"Set a string on the given `field` of a `component`. The string can be literal via named parameter `:value` or\n  can be auto-extracted from a UI event using the named parameter `:event`\n\n  Examples\n\n  ```\n  (set-string! this :ui/name :value \\\"Hello\\\") ; set from literal (or var)\n  (set-string! this :ui/name :event evt) ; extract from UI event target value\n  ```\n\n  It is recommended you use this function only on UI-related\n  data (e.g. data that is used for display purposes) and write clear top-level transactions for anything else.\n  Calls to this are compressed in history.\"\n  [component field & {:keys [event value]}]\n  (assert (and (or event value) (not (and event value))) \"Supply either :event or :value\")\n  (let [value (if event (target-value event) value)]\n    (set-value! component field value)))\n\n#?(:cljs\n   (fulcro.client.mutations/defmutation set-query!\n     \"The mutation version of `prim/set-query!`. This version requires queryid as an input string.\n\n     queryid (required) - A string query ID. Can be obtained via (prim/query-id Class qualifier)\n     query - The new query\n     params - The new query params\n\n     One of query or params is required.\n     \"\n     [{:keys [queryid query params]}]\n     (action [{:keys [reconciler state]}]\n       (swap! state prim/set-query* queryid {:query query :params params})\n       (when reconciler\n         (p/reindex! reconciler)))))\n\n#?(:cljs\n   (fulcro.client.mutations/defmutation merge!\n     \"The mutation version of prim/merge!\"\n     [{:keys [query data-tree remote]}]\n     (action [{:keys [reconciler]}]\n       (let [state (prim/app-state reconciler)\n             {:keys [keys next]} (prim/merge* reconciler @state data-tree query)]\n         (p/queue! reconciler keys remote)\n         (reset! state next)\n         (when-not (nil? remote)\n           (p/reconcile! reconciler remote))))))\n\n#?(:cljs\n   (fulcro.client.mutations/defmutation send-history\n     \"Send the current app history to the server. The params can include anything and will be merged with a `:history` entry.\n     Your server implementation of `fulcro.client.mutations/send-history` should record the data of history for\n     retrieval by a root query for :support-request, which should at least include the stored :history and optionally a\n     :comment from the user. You should add whatever identity makes sense for tracking.\"\n     [params]\n     (remote [{:keys [reconciler state ast]}]\n       (let [history (-> reconciler (prim/get-history) deref)\n             params  (assoc params :history history)]\n         (assoc ast :params params)))))\n\n(defn returning\n  \"Indicate the the remote operation will return a value of the given component type. The server-side mutation need\n  simply return a tree matching that component's query and it will auto-merge into state. The ast param MUST be a query ast\n  containing exactly one mutation that is *not* already a mutation join. The state is required for looking up dynamic queries, and\n  may be nil if you use only static queries.\"\n  [ast state class]\n  {:pre [(symbol? (-> ast :key))]}\n  (let [{:keys [key params query]} ast]\n    (let [query' (cond-> (prim/get-query class state)\n                   query (vary-meta #(merge (meta query) %)))]\n      (prim/query->ast1 `[{(~key ~params) ~query'}]))))\n\n(defn with-target\n  \"Set's a target for the return value from the mutation to be merged into. This can be combined with returning to define\n  a path to insert the new entry.\"\n  [ast target]\n  {:pre [(symbol? (-> ast :key))]}\n  (let [{:keys [key params query]} ast\n        query' (if query\n                 (vary-meta query assoc :fulcro.client.impl.data-fetch/target target)\n                 (with-meta '[*] {:fulcro.client.impl.data-fetch/target target}))]\n    (prim/query->ast1 `[{(~key ~params) ~query'}])))\n\n(defn with-params\n  \"Modify an AST containing a single mutation, changing it's parameters to those given as an argument.\"\n  [ast params]\n  (assoc ast :params params))\n\n(defn is-call? [expr]\n  (and (list? expr)\n    (symbol? (first expr))\n    (or (= 1 (count expr))\n      (map? (second expr)))))\n\n(defn with-progressive-updates\n  \"Modifies the AST node to enable progressive updates (if available) about the response download progress.\n  `progress-mutation` is a call expression (e.g. `(f {})`) for a mutation, which can include the normal parameter\n  map. This mutation mutation will be triggered on each progress step. It will receive\n  one call when the request is sent, followed by zero or more progress events from the low-level network layer,\n  and one call when the request is done (with any status). The first and last calls are guaranteed.\n\n  An extra parameter keyed at `fulcro.client.network/progress` will be included that contains a :progress key\n  (:sending, :receiving, :complete, or :failed), and a status that will be dependent on the network implementation\n  (e.g. a google XhrIO progress event).\"\n  [ast progress-mutation]\n  {:pre [(symbol? (-> ast :key)) (is-call? progress-mutation)]}\n  (update ast :key vary-meta assoc :fulcro.client.network/progress-mutation progress-mutation))\n\n(defn progressive-update-transaction\n  \"Given a remote transaction containing one or more remote mutations, returns a local transaction of zero or\n  more mutations that should be run to provide a progress update. The `progress` argument will be added to\n  each resulting mutation in parameters as `:fulcro.client.network/progress`.\"\n  [network-transaction progress]\n  (let [add-progress (fn [expr]\n                       (let [ast   (parser/expr->ast expr)\n                             ast-2 (update ast :params assoc :fulcro.client.network/progress progress)]\n                         (parser/ast->expr ast-2)))]\n    (vec (keep\n           (fn [m] (some-> m seq first meta :fulcro.client.network/progress-mutation add-progress))\n           network-transaction))))\n\n(defn with-abort-id\n  \"Modifies the mutation to enable network-level aborts. The id is a user-defined ID (any type) that identifies\n  things that can be aborted on networking. IDs need not be unique per node, though aborting an ID that refers to\n  more than one in-flight request will abort them all.\"\n  [ast id]\n  {:pre [(symbol? (-> ast :key))]}\n  (update ast :key vary-meta assoc :fulcro.client.network/abort-id id))\n\n(defn abort-ids\n  \"Returns a set of abort IDs from the given transaction.\"\n  [tx]\n  (set (keep\n         (fn [m] (some-> m seq first meta :fulcro.client.network/abort-id))\n         tx)))\n\n(defn remove-ident*\n  \"Removes an ident, if it exists, from a list of idents in app state. This\n  function is safe to use within mutations.\"\n  [state-map ident path-to-idents]\n  {:pre [(map? state-map)]}\n  (let [new-list (fn [old-list]\n                   (vec (filter #(not= ident %) old-list)))]\n    (update-in state-map path-to-idents new-list)))\n\n(defn integrate-ident*\n  \"Integrate an ident into any number of places in the app state. This function is safe to use within mutation\n  implementations as a general helper function.\n\n  The named parameters can be specified any number of times. They are:\n\n  - append:  A vector (path) to a list in your app state where this new object's ident should be appended. Will not append\n  the ident if that ident is already in the list.\n  - prepend: A vector (path) to a list in your app state where this new object's ident should be prepended. Will not append\n  the ident if that ident is already in the list.\n  - replace: A vector (path) to a specific location in app-state where this object's ident should be placed. Can target a to-one or to-many.\n   If the target is a vector element then that element must already exist in the vector.\"\n  [state ident & named-parameters]\n  {:pre [(map? state)]}\n  (apply util/__integrate-ident-impl__ state ident named-parameters))\n"]}