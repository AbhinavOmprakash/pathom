{"version":3,"sources":["com/wsscode/pathom/book/async/intro.cljs"],"mappings":";;;;;;AAMA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAgBC;AAAhB,AAAA,AAAAD;;AAAA,AAA4BE,AAAEA;AAA9B,AAEE,AAAAC,AAAA,AAAAC,AAAA;AAAA,AAAA,AAAAC,AAAA;;AAAA,AAAA,AAAAC,AAAA,AAAAC,AAAA;AAAAC;AAAA,AAAA,AAAAC,AAAA,AAAAD,AAAA;AAAA,AAAA,AAAA,AAAAC,AAAA;AAAA,AAAAC,AAAA,AAAA,AAC6B2B;AAD7B1B,AAAA,AAAA,AAAAD;AAAAE,AAAA,AAAAD,AACOyB;AADP5B,AAAAA;AAAA,AAAA,AAAAK,AAAAL,AAAA,AAAAI;;AAAA,AAAA,AAAAH,AAAA;AAAA,AAAAK,AAAA,AAAAN,AAAA;AAAAO,AAAA,AAAA;AAAAC,AAAA,AAAA;AAAAC,AAAA,AAAAC,AAAAH,AAAAC;AAAAR,AAAA,AAAAW,AAAAX;AAAA,AAAA,AAAAW,AAAA,AAAAL;;AAAAK;;AAAA,AAAA,AAAAC,AAAAZ,AAAAS;;AAAA;;;;;AAAA,AAAA;;;;AAAA,AAAA,AAAAI,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;AAAA,AAAA,AAAAA,AAAA,AAAAC;;AAAA,AAAAD,AAAA,AAAA;;AAAAA;;AAAAb;;AAAA,AAAA,AAAAe,AAAA,AAAA,AAAA;AAAA,AAAA,AAAAC,AAAA,AAAAjB,AAAAC;AAAA,AAAA,AAAA,AAAAiB,AAAAD,AAAA;AAAA;;AAAAA;;;;AAAA,AAAAE,AAAAC;AAAA,AAAA,AAAAC,AAAApB;AAAA,AAAA,AAAAoB,AAAA,AAAAF;;AAAAE;AAAA,AAAA,AAAAC,AAAA,AAAArB,AAAA;AAAA,AAAAsB,AAAAtB;AAAA,AAAA,AAAAsB,AAAA,AAAA,AAAAC,AAAA,AAAAvB,AAAA;;AAAAsB;AAAA,AAAAJ;;;AAAA;;AAAA,AAAA,AAAA,AAAAD,AAAAF,AAAA;AAAA,AAAAf;;;;AAAAe;;;;;AAAAf;;;;;AAAAA;;;;;;;;;;AAAAwB,AAAA,AAAAC,AAAA,AAAA3B;AAAA,AAAA,AAAA2B,AAAAC,AAAA,AAAA/B;;AAAA8B;;AAAA,AAAA,AAAAE,AAAAH;;;;AAAA7B;;AAIF,AAAA,AAAAJ,AAAA,AAAA,AAAA,AAAAuC,AAAA,AAAA,AAAA,AAAA,AAAgBC;AAAhB,AAAA,AAAAD;;AAAA,AAAqBpC,AAAEA;AAAvB,AAAA,AAAA,AAAA;;AAIA,AAAA,AAAKsC,AAAUvC,AAAWsC;AAE1B,AAAKE,AACH,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAACC,AAAyCC,AACAC,AACZ,AAAA,AAAA,AAACC,AAAiCL,AAClCM","names":["com.wsscode.pathom.connect/resolver","G__65101","com.wsscode.pathom.book.async.intro/async-info","_","c__48839__auto__","cljs.core.async.chan","cljs.core.async.impl.dispatch/run","f__48840__auto__","switch__48139__auto__","state_65160","state_val_65162","inst_65145","inst_65148","inst_65149","cljs.core.async.impl.ioc-helpers/take!","inst_65151","inst_65153","inst_65154","inst_65155","cljs.core/PersistentHashMap","statearr-65228","cljs.core.async.impl.ioc-helpers/return-chan","statearr-65255","state-machine__48140__auto__","ret-value__48141__auto__","result__48142__auto__","cljs.core/keyword-identical?","ex__48143__auto__","e65277","statearr-65281","cljs.core/seq","statearr-65289","cljs.core/first","state__48841__auto__","statearr-65307","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped","cljs.core.async/timeout","cljs.core/rand-int","G__65321","com.wsscode.pathom.book.async.intro/foo","com.wsscode.pathom.book.async.intro/register","com.wsscode.pathom.book.async.intro/parser","com.wsscode.pathom.core/async-parser","com.wsscode.pathom.core/map-reader","com.wsscode.pathom.connect/async-reader2","com.wsscode.pathom.connect.connect_plugin","com.wsscode.pathom.trace/trace-plugin"],"sourcesContent":["(ns com.wsscode.pathom.book.async.intro\n  (:require [com.wsscode.pathom.core :as p]\n            [cljs.core.async :as async :refer [go <!]]\n            [com.wsscode.pathom.trace :as pt]\n            [com.wsscode.pathom.connect :as pc]))\n\n(pc/defresolver async-info [_ _]\n  {::pc/output [:async-info]}\n  (go\n    (<! (async/timeout (+ 100 (rand-int 1000))))\n    {:async-info \"From async\"}))\n\n(pc/defresolver foo [_ _]\n  {::pc/output [:foo]}\n  {:foo \"Regular\"})\n\n(def register [async-info foo])\n\n(def parser\n  (p/async-parser {::p/env     {::p/reader [p/map-reader\n                                            pc/async-reader2]}\n                   ::p/plugins [(pc/connect-plugin {::pc/register register})\n                                pt/trace-plugin]}))\n"]}