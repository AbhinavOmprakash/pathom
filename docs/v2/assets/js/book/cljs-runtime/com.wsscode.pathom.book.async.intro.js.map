{"version":3,"sources":["com/wsscode/pathom/book/async/intro.cljs"],"mappings":";;;;;AAKA,AAAA,AAAMA,AAAOC;AAAb,AACE,AAAMC,AAAE,AAACC;AAAT,AACE,AAAA,AAACC;;AAAD,AAAgB,AAAA,AAACC,AAAWH;;AAAUD;;AACtCC;;AAEJ,AAAA,AAAA,AAAKI,AAEF,AAAKC;AAAL,AACE,AAAAC,AAAA,AAAAC,AAAA;AAAA,AAAA,AAAAC,AAAA;;AAAA,AAAA,AAAAC,AAAA,AAAAC,AAAA;AAAAC;AAAA,AAAA,AAAAC,AAAA,AAAAD,AAAA;AAAA,AAAA,AAAA,AAAAC,AAAA;AAAA,AAAAC,AAAA,AAAA,AACqBqB;AADrBpB,AAAA,AAAA,AAAAD;AAAAE,AAAA,AAAAD,AACOhB;AADPa,AAAAA;AAAA,AAAA,AAAAK,AAAAL,AAAA,AAAAI;;AAAA,AAAA,AAAAH,AAAA;AAAA,AAAAK,AAAA,AAAAN,AAAA;AAAAA,AAAA,AAAAO,AAAAP;AAAA,AAAA,AAAAO,AAAA,AAAAD;;AAAAC;;AAAA,AAAA,AAAAC,AAAAR,AAAA;;AAAA;;;;;AAAA,AAAA;;;;AAAA,AAAA,AAAAS,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;AAAA,AAAA,AAAAA,AAAA,AAAAC;;AAAA,AAAAD,AAAA,AAAA;;AAAAA;;AAAAT;;AAAA,AAAA,AAAAW,AAAA,AAAA,AAAA;AAAA,AAAA,AAAAC,AAAA,AAAAb,AAAAC;AAAA,AAAA,AAAA,AAAAa,AAAAD,AAAA;AAAA;;AAAAA;;;;AAAA,AAAA,AAAAE,AAAAC;AAAA,AAAAC,AAAAF;AAAA,AAAA,AAAAG,AAAAjB;AAAA,AAAA,AAAAiB,AAAA,AAAAD;;AAAAC;AAAA,AAAAC,AAAAlB;;AAAA;;AAAA,AAAA,AAAAc;;;;AAAA,AAAA,AAAA,AAAAD,AAAAF,AAAA;AAAA,AAAAX;;;;AAAAW;;;;;AAAAX;;;;;AAAAA;;;;;;;;;;AAAAmB,AAAA,AAAAC,AAAA,AAAAtB,AAAAA,AAAAA;AAAA,AAAA,AAAAsB,AAAAC,AAAA,AAAA1B;;AAAAyB;;AAAA,AAAA,AAAAE,AAAAH;;;;AAAAxB;AAHL,AAQG,AAAKD;AAAL,AAAA;;AAGH,AAAK8B,AACH,AAAA,AAAA,AAAA,AAACC,AAA6B,AAAA,AAAA,AAACC,AAAyBjC,AAC1BkC","names":["com.wsscode.pathom.book.async.intro/sleep","n","c","cljs.core.async.chan.cljs$core$IFn$_invoke$arity$0","js/setTimeout","cljs.core.async.put_BANG_.cljs$core$IFn$_invoke$arity$2","com.wsscode.pathom.book.async.intro/reader","_","c__39003__auto__","cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1","cljs.core.async.impl.dispatch/run","f__39004__auto__","switch__38929__auto__","state_49307","state_val_49308","inst_49299","inst_49300","inst_49301","cljs.core.async.impl.ioc-helpers/take!","inst_49304","statearr-49326","cljs.core.async.impl.ioc-helpers/return-chan","statearr-49328","state-machine__38930__auto__","ret-value__38931__auto__","result__38932__auto__","cljs.core/keyword-identical?","e49330","js/Object","ex__38933__auto__","statearr-49331","cljs.core.async.impl.ioc-helpers/process-exception","state__39005__auto__","statearr-49334","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped","cljs.core/rand-int","com.wsscode.pathom.book.async.intro/parser","com.wsscode.pathom.core/async-parser","com.wsscode.pathom.core/env-plugin","com.wsscode.pathom.profile/profile-plugin"],"sourcesContent":["(ns com.wsscode.pathom.book.async.intro\n  (:require [com.wsscode.pathom.core :as p]\n            [cljs.core.async :as async :refer [go <!]]\n            [com.wsscode.pathom.profile :as pp]))\n\n(defn sleep [n]\n  (let [c (async/chan)]\n    (js/setTimeout #(async/put! c ::done) n)\n    c))\n\n(def reader\n  {:async-info\n   (fn [_]\n     (go\n       (<! (sleep (+ 100 (rand-int 1000))))\n       \"From async\"))\n\n   :foo\n   (fn [_]\n     \"Regular\")})\n\n(def parser\n  (p/async-parser {::p/plugins [(p/env-plugin {::p/reader reader})\n                                pp/profile-plugin]}))\n"]}