{"version":3,"sources":["com/wsscode/pathom/book/connect/mutations.cljs"],"mappings":";;;;AAIA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAC,AAAgBM,AAAcC;AAA9B,AAAA,AAAAN,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAC,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAAE,AAAAC,AAAAH,AAAAA;AAAA,AAAAI,AAAAJ,AAAA,AAA0CO;AAA1C,AAAA,AAAA,AAAA,AAAA,AAKiBA;;AAEjB,AAAKC,AACH,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAACC,AAC2BC,AACAC,AACAC,AACbC,AACC,AAAA,AAAA,AAACC,AAAiCT,AAClCU,AACAC","names":["com.wsscode.pathom.connect/mutation","p__53737","map__53738","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$2","com.wsscode.pathom.book.connect.mutations/send-message","env","text","com.wsscode.pathom.book.connect.mutations/parser","com.wsscode.pathom.core/parallel-parser","com.wsscode.pathom.core/map-reader","com.wsscode.pathom.connect/parallel-reader","com.wsscode.pathom.connect/open-ident-reader","com.wsscode.pathom.connect/mutate-async","com.wsscode.pathom.connect.connect_plugin.cljs$core$IFn$_invoke$arity$1","com.wsscode.pathom.core/error-handler-plugin","com.wsscode.pathom.core/trace-plugin"],"sourcesContent":["(ns com.wsscode.pathom.book.connect.mutations\n  (:require [com.wsscode.pathom.connect :as pc]\n            [com.wsscode.pathom.core :as p]))\n\n(pc/defmutation send-message [env {:keys [message/text]}]\n  {::pc/sym    'send-message\n   ::pc/params [:message/text]\n   ::pc/output [:message/id :message/text]}\n  {:message/id   123\n   :message/text text})\n\n(def parser\n  (p/parallel-parser\n    {::p/env     {::p/reader [p/map-reader\n                              pc/parallel-reader\n                              pc/open-ident-reader]}\n     ::p/mutate  pc/mutate-async\n     ::p/plugins [(pc/connect-plugin {::pc/register send-message})\n                  p/error-handler-plugin\n                  p/trace-plugin]}))\n"]}