{"version":3,"sources":["com/wsscode/pathom/book/connect/getting_started2.cljs"],"mappings":";;;;AAIA,AAAA,AAAA,AAAA,AAAKA;AAGL,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAgBC;AAAhB,AAAA,AAAAD;;AAAA,AAAgCE,AAAEA;AAAlC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;;AAMA,AAAA,AAAAH,AAAA,AAAA,AAAA,AAAAI,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAgBO;AAAhB,AAAA,AAAAP;;AAAA,AAAAC,AAA+BF;AAA/B,AAAA,AAAAG,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAC,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAAE,AAAAC,AAAAH,AAAAA;AAAA,AAAAI,AAAAJ,AAAA,AAAyCM;AAAzC,AAAA,AAAA,AAGkB,AAACF,AAAIX,AAAea;;AAEtC,AAAA,AAAKC,AAAcX,AAAeS,AAAcG;AAEhD,AAAKC,AACH,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAACC,AAC2BC,AACAC,AACAC,AACbC,AACC,AAAA,AAAA,AAACC,AAAiCR,AAClCS,AACAC","names":["com.wsscode.pathom.book.connect.getting-started2/product->brand","com.wsscode.pathom.connect/resolver","G__52750","com.wsscode.pathom.book.connect.getting-started2/latest-product","_","G__52757","p__52759","map__52760","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply","cljs.core/hash-map","cljs.core.get","com.wsscode.pathom.book.connect.getting-started2/product-brand","id","com.wsscode.pathom.book.connect.getting-started2/app-registry","com.wsscode.pathom.connect/index-explorer-resolver","com.wsscode.pathom.book.connect.getting-started2/parser","com.wsscode.pathom.core/parser","com.wsscode.pathom.core/map-reader","com.wsscode.pathom.connect/reader2","com.wsscode.pathom.connect/open-ident-reader","com.wsscode.pathom.connect/mutate","com.wsscode.pathom.connect.connect_plugin","com.wsscode.pathom.core/error-handler-plugin","com.wsscode.pathom.core/trace-plugin"],"sourcesContent":["(ns com.wsscode.pathom.book.connect.getting-started2\n  (:require [com.wsscode.pathom.core :as p]\n            [com.wsscode.pathom.connect :as pc]))\n\n(def product->brand\n  {1 \"Taylor\"})\n\n(pc/defresolver latest-product [_ _]\n  {::pc/output [{::latest-product [:product/id :product/title :product/price]}]}\n  {::latest-product {:product/id    1\n                     :product/title \"Acoustic Guitar\"\n                     :product/price 199.99M}})\n\n(pc/defresolver product-brand [_ {:keys [product/id]}]\n  {::pc/input  #{:product/id}\n   ::pc/output [:product/brand]}\n  {:product/brand (get product->brand id)})\n\n(def app-registry [latest-product product-brand pc/index-explorer-resolver])\n\n(def parser\n  (p/parser\n    {::p/env     {::p/reader [p/map-reader\n                              pc/reader2\n                              pc/open-ident-reader]}\n     ::p/mutate  pc/mutate\n     ::p/plugins [(pc/connect-plugin {::pc/register app-registry})\n                  p/error-handler-plugin\n                  p/trace-plugin]}))\n"]}