{"version":3,"sources":["com/wsscode/pathom/book/connect/getting_started2.cljs"],"mappings":";;;;AAIA,AAAA,AAAA,AAAA,AAAKA;AAGL,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAgBC,AAAgBC,AAAEA;AAAlC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;;AAMA,AAAA,AAAAF,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAG,AAAgBM,AAAeP;AAA/B,AAAA,AAAAE,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAC,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAAE,AAAAC,AAAAH,AAAAA;AAAA,AAAAI,AAAAJ,AAAA,AAAyCM;AAAzC,AAAA,AAAA,AAGkB,AAACF,AAAIT,AAAeW;;AAEtC,AAAA,AAAKC,AAAcV,AAAeQ,AAAcG;AAEhD,AAAKC,AACH,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAACC,AAC2BC,AACAC,AACAC,AACbC,AACC,AAAA,AAAA,AAACC,AAAiCR,AAClCS,AACAC","names":["com.wsscode.pathom.book.connect.getting-started2/product->brand","com.wsscode.pathom.connect/resolver","com.wsscode.pathom.book.connect.getting-started2/latest-product","_","p__53809","map__53810","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$2","com.wsscode.pathom.book.connect.getting-started2/product-brand","id","com.wsscode.pathom.book.connect.getting-started2/app-registry","com.wsscode.pathom.connect/index-explorer-resolver","com.wsscode.pathom.book.connect.getting-started2/parser","com.wsscode.pathom.core/parallel-parser","com.wsscode.pathom.core/map-reader","com.wsscode.pathom.connect/parallel-reader","com.wsscode.pathom.connect/open-ident-reader","com.wsscode.pathom.connect/mutate-async","com.wsscode.pathom.connect.connect_plugin.cljs$core$IFn$_invoke$arity$1","com.wsscode.pathom.core/error-handler-plugin","com.wsscode.pathom.core/trace-plugin"],"sourcesContent":["(ns com.wsscode.pathom.book.connect.getting-started2\n  (:require [com.wsscode.pathom.core :as p]\n            [com.wsscode.pathom.connect :as pc]))\n\n(def product->brand\n  {1 \"Taylor\"})\n\n(pc/defresolver latest-product [_ _]\n  {::pc/output [{::latest-product [:product/id :product/title :product/price]}]}\n  {::latest-product {:product/id    1\n                     :product/title \"Acoustic Guitar\"\n                     :product/price 199.99M}})\n\n(pc/defresolver product-brand [_ {:keys [product/id]}]\n  {::pc/input  #{:product/id}\n   ::pc/output [:product/brand]}\n  {:product/brand (get product->brand id)})\n\n(def app-registry [latest-product product-brand pc/index-explorer-resolver])\n\n(def parser\n  (p/parallel-parser\n    {::p/env     {::p/reader [p/map-reader\n                              pc/parallel-reader\n                              pc/open-ident-reader]}\n     ::p/mutate  pc/mutate-async\n     ::p/plugins [(pc/connect-plugin {::pc/register app-registry})\n                  p/error-handler-plugin\n                  p/trace-plugin]}))\n"]}