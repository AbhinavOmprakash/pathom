{"version":3,"sources":["com/wsscode/pathom/book/async/demos.cljs"],"mappings":"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","names":["com.wsscode.pathom.book.async.demos/indexes","cljs.core.atom.cljs$core$IFn$_invoke$arity$1","js/com","js/com.wsscode","js/com.wsscode.pathom","js/com.wsscode.pathom.book","js/com.wsscode.pathom.book.async","js/com.wsscode.pathom.book.async.demos","js/com.wsscode.pathom.book.async.demos.resolver-con","method-table__4613__auto__","prefer-table__4614__auto__","method-cache__4615__auto__","cached-hierarchy__4616__auto__","hierarchy__4617__auto__","cljs.core.get.cljs$core$IFn$_invoke$arity$3","fexpr__48157","cljs.core/MultiFn","cljs.core.symbol.cljs$core$IFn$_invoke$arity$2","com.wsscode.pathom.book.async.demos/resolver-con","com.wsscode.pathom.connect/resolver-dispatch","com.wsscode.pathom.book.async.demos/defresolver","com.wsscode.pathom.connect/resolver-factory","com.wsscode.pathom.book.async.demos/fetch-json","url","c__38998__auto__","cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1","cljs.core.async.impl.dispatch/run","f__38999__auto__","switch__38924__auto__","state_48176","state_val_48177","statearr-48178","inst_48174","cljs.core.async.impl.ioc-helpers/return-chan","inst_48158","statearr-48179","cljs.core.async.impl.ioc-helpers/process-exception","_","cljs.core.async.impl.ioc-helpers/add-exception-frame","inst_48162","inst_48163","com.wsscode.common.async-cljs/promise->chan","cljs.core.async.impl.ioc-helpers/take!","inst_48170","inst_48171","com.wsscode.common.async-cljs/consumer-pair","inst_48172","statearr-48180","inst_48165","inst_48166","inst_48167","inst_48168","statearr-48186","state-machine__38925__auto__","ret-value__38926__auto__","result__38927__auto__","cljs.core/keyword-identical?","e48188","js/Object","ex__38928__auto__","statearr-48199","state__39000__auto__","statearr-48201","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped","js/fetch","cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$variadic","G__48205","G__48206","G__48207","state_48224","state_val_48225","statearr-48226","inst_48222","inst_48209","statearr-48228","inst_48213","inst_48214","statearr-48229","inst_48216","inst_48217","com.wsscode.common.async-cljs/throw-err","inst_48218","inst_48219","inst_48220","cljs.core/PersistentHashMap","statearr-48230","statearr-48231","e48232","statearr-48233","statearr-48234","com.wsscode.pathom.book.async.demos/namespace-keys","x","ns","cljs.core.into.cljs$core$IFn$_invoke$arity$3","cljs.core.map.cljs$core$IFn$_invoke$arity$1","p__48240","vec__48241","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","k","v","cljs.core.keyword.cljs$core$IFn$_invoke$arity$2","cljs.core/name","com.wsscode.pathom.book.async.demos/adapt-schedule","schedule","com.wsscode.pathom.book.async.demos/adapt-externals","externals","p__48246","vec__48247","p__48267","map__48268","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$2","com.wsscode.pathom.book.async.demos/adapt-show","show","cljs.core.dissoc.cljs$core$IFn$_invoke$arity$variadic","cljs.core.update.cljs$core$IFn$_invoke$arity$3","cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic","G__48272","G__48273","G__48274","p__48275","map__48276","id","state_48292","state_val_48293","statearr-48297","inst_48290","inst_48279","statearr-48299","inst_48283","inst_48284","inst_48286","inst_48287","inst_48288","statearr-48300","statearr-48301","e48302","statearr-48303","statearr-48304","com.wsscode.pathom.book.async.demos/adapt-episode","episode","cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2","G__48305","G__48306","G__48307","p__48308","map__48312","state_48331","state_val_48332","statearr-48333","inst_48329","inst_48315","statearr-48335","inst_48319","inst_48320","inst_48321","statearr-48337","inst_48323","inst_48324","inst_48325","inst_48326","inst_48327","statearr-48338","statearr-48339","e48340","statearr-48341","statearr-48342","cljs.core.mapv.cljs$core$IFn$_invoke$arity$2","com.wsscode.pathom.book.async.demos/parser","cljs.core/deref","com.wsscode.pathom.core/async-parser","com.wsscode.pathom.core/map-reader","com.wsscode.pathom.connect/all-async-readers","com.wsscode.pathom.core/ident-join-reader","com.wsscode.pathom.core.placeholder_reader.cljs$core$IFn$_invoke$arity$0","com.wsscode.pathom.core/error-handler-plugin","js/com.wsscode.pathom.book.async.demos.AsyncParserDemo","this__44526__auto__","js/React.Component","G__48347","G__48348","js/React.Component.prototype","G__48349","fulcro.client.primitives/default-component-prototype","goog.object/extend","fulcro.client.primitives/-register-component!","x48350","this__43444__auto__","*reconciler*-orig-val__48352","fulcro.client.primitives/*reconciler*","*depth*-orig-val__48353","fulcro.client.primitives/*depth*","*shared*-orig-val__48354","fulcro.client.primitives/*shared*","*instrument*-orig-val__48355","fulcro.client.primitives/*instrument*","*parent*-orig-val__48356","fulcro.client.primitives/*parent*","*reconciler*-temp-val__48357","fulcro.client.primitives/get-reconciler","*depth*-temp-val__48358","fulcro.client.primitives/depth","*shared*-temp-val__48359","fulcro.client.primitives.shared.cljs$core$IFn$_invoke$arity$1","*instrument*-temp-val__48360","fulcro.client.primitives/instrument","*parent*-temp-val__48361","map__48363","fulcro.client.primitives/props","x48366","p__48367","map__48368","x48370","p__48371","map__48372","this__44529__auto__","writer__44530__auto__","opt__44531__auto__","cljs.core/-write","com.wsscode.pathom.book.async.demos/AsyncParserDemo","this","random-dog-url","props","fulcro.client.data-fetch/marker-table","marker","fulcro.client.localized_dom.div.cljs$core$IFn$_invoke$arity$variadic","fulcro.client.data-fetch/loading?","fulcro.client.localized_dom.button.cljs$core$IFn$_invoke$arity$variadic","fulcro.client.data_fetch.load_field.cljs$core$IFn$_invoke$arity$variadic","fulcro.client.localized_dom.img.cljs$core$IFn$_invoke$arity$variadic","com.wsscode.pathom.book.async.demos/async-parser-demo","fulcro.client.primitives.factory.cljs$core$IFn$_invoke$arity$1"],"sourcesContent":["(ns com.wsscode.pathom.book.async.demos\n  (:require [com.wsscode.pathom.book.app-types :as app-types]\n            [com.wsscode.pathom.fulcro.network :as network]\n            [com.wsscode.common.async-cljs :refer [go-catch <? <!p]]\n            [goog.object :as gobj]\n            [fulcro.client :as fulcro]\n            [fulcro.client.data-fetch :as df]\n            [fulcro.client.primitives :as fp]\n            [fulcro.client.localized-dom :as dom]\n            [com.wsscode.pathom.book.async.intro :as d.intro]\n            [com.wsscode.pathom.core :as p]\n            [com.wsscode.pathom.connect :as pc]))\n\n(def indexes (atom {}))\n(defmulti resolver-con pc/resolver-dispatch)\n\n(def defresolver (pc/resolver-factory resolver-con indexes))\n\n(defn fetch-json [url]\n  (go-catch\n    (-> (js/fetch url) <!p\n        (.json) <!p\n        (js->clj :keywordize-keys true))))\n\n(defresolver `random-dog\n  {::pc/output [:random-dog-url]\n   ::pc/cache? false}\n  (fn [_ _]\n    (go-catch\n      {:random-dog-url\n       (-> (fetch-json \"https://dog.ceo/api/breeds/image/random\") <?\n           :message)})))\n\n(defn namespace-keys [x ns]\n  (into {} (map (fn [[k v]] [(keyword ns (name k)) v])) x))\n\n(defn adapt-schedule [schedule]\n  (namespace-keys schedule \"tvmaze.schedule\"))\n\n(defn adapt-externals [externals]\n  (into {} (map (fn [[k v]] [(keyword (name k) \"id\") v])) externals))\n\n(defn adapt-show [{:keys [externals] :as show}]\n  (-> show\n      (dissoc :externals :_links)\n      (update :schedule adapt-schedule)\n      (namespace-keys \"tvmaze.show\")\n      (merge (adapt-externals externals))))\n\n(defresolver `tvmaze-show-by-id\n  {::pc/input  #{:tvmaze.show/id}\n   ::pc/output [:tvmaze.show/url\n                {:tvmaze.show/schedule [:tvmaze.schedule/time :tvmaze.schedule/days]}\n                :thetvdb/id\n                :tvrage/id\n                :tvmaze.show/weight\n                :tvmaze.show/type\n                :tvmaze.show/name\n                :tvmaze.show/id\n                {:tvmaze.show/webChannel [:id :name :country]}\n                :tvmaze.show/status\n                :tvmaze.show/language\n                {:tvmaze.show/image [:medium :original]}\n                :tvmaze.show/runtime\n                :tvmaze.show/updated\n                :imdb/id\n                {:tvmaze.show/network [:id :name {:country [:name :code :timezone]}]}\n                :tvmaze.show/officialSite\n                :tvmaze.show/summary\n                {:tvmaze.show/rating [:average]}\n                :tvmaze.show/premiered\n                :tvmaze.show/genres]}\n  (fn [_ {:keys [tvmaze.show/id]}]\n    (go-catch\n      (-> (fetch-json (str \"http://api.tvmaze.com/shows/\" id)) <?\n          adapt-show))))\n\n(defn adapt-episode [episode]\n  (-> episode\n      (dissoc :_links)\n      (namespace-keys \"tvmaze.episode\")))\n\n(defresolver `tvmaze-show-episodes\n  {::pc/input  #{:tvmaze.show/id}\n   ::pc/output [{:tvmaze.show/episodes [:tvmaze.episode/runtime\n                                        :tvmaze.episode/season\n                                        :tvmaze.episode/url\n                                        :tvmaze.episode/id\n                                        {:tvmaze.episode/image [:medium :original]}\n                                        :tvmaze.episode/airstamp\n                                        :tvmaze.episode/airtime\n                                        :tvmaze.episode/summary\n                                        :tvmaze.episode/name\n                                        :tvmaze.episode/number\n                                        :tvmaze.episode/airdate]}]}\n  (fn [_ {:keys [tvmaze.show/id]}]\n    (go-catch\n      (->> (fetch-json (str \"http://api.tvmaze.com/shows/\" id \"/episodes\")) <?\n           (mapv adapt-episode)\n           (hash-map :tvmaze.show/episodes)))))\n\n(comment\n  (go-catch\n    (let [data (<? (fetch-json \"http://api.tvmaze.com/shows/563/episodes\"))]\n      (def res data)))\n\n  (->> res (take 4))\n  (-> (map adapt-episode res) (->> (hash-map :tvmaze.show/episodes)) pc/data->shape))\n\n(def parser (p/async-parser {::p/env     {::p/reader             [p/map-reader\n                                                                  pc/all-async-readers\n                                                                  p/ident-join-reader\n                                                                  (p/placeholder-reader)]\n                                          ::pc/resolver-dispatch resolver-con\n                                          ::pc/indexes           @indexes}\n                             ::p/plugins [p/error-handler-plugin]}))\n\n(comment\n  (go-catch\n    (try\n      (-> (parser {} [{[:tvmaze.show/id 563] [:tvmaze.show/name\n                                              '*]}\n                      {:>/b [:random-dog-url]}]) <? js/console.log)\n      (catch :default e (js/console.error e)))))\n\n(fp/defsc AsyncParserDemo\n  [this {:keys [random-dog-url] :as props}]\n  {:ident (fn [] [::id \"singleton\"])\n   :query [::id :random-dog-url [df/marker-table ::dog-load]]}\n  (let [marker (get props [df/marker-table ::dog-load])]\n    (dom/div\n      (dom/div\n        (if (df/loading? marker)\n          (dom/button {:disabled true} \"Loading...\")\n          (dom/button {:onClick #(df/load-field this :random-dog-url {:marker ::dog-load})}\n            \"Load\")))\n      (if random-dog-url\n        (dom/div (dom/img {:src random-dog-url}))))))\n\n(def async-parser-demo (fp/factory AsyncParserDemo))\n"]}