{"version":3,"sources":["com/wsscode/pathom/book/async/js_promises.cljs"],"mappings":";;;;;AAKA,AAAA,AAAA,AAAKA,AAEF,AAAKC;AAAL,AACE,AAAAC,AAAA,AAAAC,AAAA;AAAA,AAAA,AAAAC,AAAA;;AAAA,AAAA,AAAAC,AAAA,AAAAC,AAAA;AAAAC;AAAA,AAAA,AAAAC,AAAA,AAAAD,AAAA;AAAA,AAAA,AAAA,AAAAC,AAAA;AAAA,AAAAD,AAAAA;AAAA,AAAA,AAAA,AAAAE,AAAAF;AAAA,AAAA,AAAAE,AAAA,AAAA;;AAAA,AAAAA,AAAA,AAAA;;AAAAA;AAAA;;AAAA,AAAA,AAAAD,AAAA;AAAA,AAAAE,AAAA,AAAAH,AAAA;AAAAA,AAAAA;AAAA,AAAA,AAAAI,AAAAJ,AAAAG;;AAAA,AAAA,AAAAF,AAAA;AAAA,AAAAI,AAAA,AAAAL,AAAA;AAAAA,AAAAA;AAAA,AAAA,AAAA,AAAAM,AAAAN;AAAA,AAAA,AAAAM,AAAA,AAAAD;;AAAAC;AAAA,AAAAC,AAAAP;;AAAA;;AAAA,AAAA,AAAAC,AAAA;AAAA,AAAAP,AAAA,AAAAc,AAAAR,AAAA,AAAA,AAAA,AAAA;AAAAS,AAAA,AAAA,AACO0B;AADPzB,AAAA,AAAAC,AAAAF;AAAAT,AAAAA;AAAA,AAAA,AAAAY,AAAAZ,AAAA,AAAAU;;AAAA,AAAA,AAAAT,AAAA;AAAA,AAAAY,AAAA,AAAAb,AAAA;AAAAc,AAAA,AAAAC,AAAAF;AAAAG,AAAA,AAAAF,AAAA,AAGOsB;AAHPpC,AAAAA;AAAA,AAAA,AAAA,AAAAiB,AAAAjB;AAAA,AAAA,AAAAiB,AAAA,AAAAD;;AAAAC;AAAA,AAAAV,AAAAP;;AAAA;;AAAA,AAAA,AAAAC,AAAA;AAAA,AAAAiB,AAAA,AAAAlB,AAAA;AAAAmB,AAAA,AAAAJ,AAAAG;AAAAE,AAAA,AAAAD;AAAAE,AAAA,AAAAV,AAAAS;AAAApB,AAAAA;AAAA,AAAA,AAAAY,AAAAZ,AAAA,AAAAqB;;AAAA;;;;;;;;;AAAA,AAAA;;;;AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;AAAA,AAAA,AAAAA,AAAA,AAAAC;;AAAA,AAAAD,AAAA,AAAA;;AAAAA;;AAAAtB;;AAAA,AAAA,AAAAwB,AAAA,AAAA,AAAA;AAAA,AAAA,AAAAC,AAAA,AAAA1B,AAAAC;AAAA,AAAA,AAAA,AAAA0B,AAAAD,AAAA;AAAA;;AAAAA;;;;AAAA,AAAA,AAAAE,AAAAC;AAAA,AAAAC,AAAAF;AAAA,AAAA,AAAAG,AAAA9B;AAAA,AAAA,AAAA8B,AAAA,AAAAD;;AAAAC;AAAA,AAAAvB,AAAAP;;AAAA;;AAAA,AAAA,AAAA2B;;;;AAAA,AAAA,AAAA,AAAAD,AAAAF,AAAA;AAAA,AAAAxB;;;;AAAAwB;;;;;AAAAxB;;;;;AAAAA;;;;;;;;;;AAAA+B,AAAA,AAAAC,AAAA,AAAAlC,AAAAA,AAAAA;AAAA,AAAA,AAAAkC,AAAAC,AAAA,AAAAtC;;AAAAqC;;AAAA,AAAA,AAAAE,AAAAH;;;;AAAApC;;AAKL,AAAK0C,AACH,AAAA,AAAA,AAAA,AAACC,AAA6B,AAAA,AAAA,AAACC,AAAyB9C,AAC1B+C,AACAC","names":["com.wsscode.pathom.book.async.js-promises/reader","_","c__39084__auto__","cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1","cljs.core.async.impl.dispatch/run","f__39085__auto__","switch__38786__auto__","state_48835","state_val_48836","statearr-48866","inst_48829","cljs.core.async.impl.ioc-helpers/return-chan","inst_48813","statearr-48872","cljs.core.async.impl.ioc-helpers/process-exception","cljs.core.async.impl.ioc-helpers/add-exception-frame","inst_48817","inst_48818","com.wsscode.common.async-cljs/promise->chan","cljs.core.async.impl.ioc-helpers/take!","inst_48825","inst_48826","com.wsscode.common.async-cljs/consumer-pair","inst_48827","statearr-48880","inst_48820","inst_48821","inst_48822","inst_48823","statearr-48885","state-machine__38787__auto__","ret-value__38788__auto__","result__38789__auto__","cljs.core/keyword-identical?","e48887","js/Object","ex__38790__auto__","statearr-48888","state__39086__auto__","statearr-48895","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped","js/fetch","goog.object/get","com.wsscode.pathom.book.async.js-promises/parser","com.wsscode.pathom.core/async-parser","com.wsscode.pathom.core/env-plugin","com.wsscode.pathom.core/error-handler-plugin","com.wsscode.pathom.core/trace-plugin"],"sourcesContent":["(ns com.wsscode.pathom.book.async.js-promises\n  (:require [com.wsscode.common.async-cljs :refer [go-catch <!p]]\n            [com.wsscode.pathom.core :as p]\n            [goog.object :as gobj]))\n\n(def reader\n  {:dog.ceo/random-dog-url\n   (fn [_]\n     (go-catch\n       (-> (js/fetch \"https://dog.ceo/api/breeds/image/random\") <!p\n           (.json) <!p\n           (gobj/get \"message\"))))})\n\n(def parser\n  (p/async-parser {::p/plugins [(p/env-plugin {::p/reader reader})\n                                p/error-handler-plugin\n                                p/trace-plugin]}))\n"]}