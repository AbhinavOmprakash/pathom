{
"version":3,
"file":"module$com$wsscode$pathom$viz$detect_element_size.js",
"lineCount":73,
"mappings":"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",
"sources":["com/wsscode/pathom/viz/detect-element-size.js"],
"sourcesContent":["let attachEvent = document.attachEvent;\nlet isIE = navigator.userAgent.match(/Trident/);\n\nlet requestFrame = (function(){\n  let raf = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame ||\n    function(fn){ return window.setTimeout(fn, 20); };\n  return function(fn){ return raf(fn); };\n})();\n\nlet cancelFrame = (function(){\n  let cancel = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame ||\n    window.clearTimeout;\n  return function(id){ return cancel(id); };\n})();\n\nfunction resizeListener(e){\n  let win = e.target || e.srcElement;\n  if (win.__resizeRAF__) cancelFrame(win.__resizeRAF__);\n  win.__resizeRAF__ = requestFrame(function(){\n    let trigger = win.__resizeTrigger__;\n    trigger.__resizeListeners__.forEach(function(fn){\n      fn.call(trigger, e);\n    });\n  });\n}\n\nfunction objectLoad(e){\n  this.contentDocument.defaultView.__resizeTrigger__ = this.__resizeElement__;\n  this.contentDocument.defaultView.addEventListener('resize', resizeListener);\n}\n\nexport function addResizeListener(element, fn){\n  if (!element.__resizeListeners__) {\n    element.__resizeListeners__ = [];\n    if (attachEvent) {\n      element.__resizeTrigger__ = element;\n      element.attachEvent('onresize', resizeListener);\n    }\n    else {\n      if (getComputedStyle(element).position == 'static') element.style.position = 'relative';\n      let obj = element.__resizeTrigger__ = document.createElement('object');\n      obj.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n      obj.__resizeElement__ = element;\n      obj.onload = objectLoad;\n      obj.type = 'text/html';\n      if (isIE) element.appendChild(obj);\n      obj.data = 'about:blank';\n      if (!isIE) element.appendChild(obj);\n    }\n  }\n  element.__resizeListeners__.push(fn);\n}\n\nexport function removeResizeListener(element, fn){\n  element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n  if (!element.__resizeListeners__.length) {\n    if (attachEvent) element.detachEvent('onresize', resizeListener);\n    else {\n      element.__resizeTrigger__.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n      element.__resizeTrigger__ = !element.removeChild(element.__resizeTrigger__);\n    }\n  }\n}\n"],
"names":["attachEvent","document","isIE","navigator","userAgent","match","requestFrame","raf","window","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","fn","setTimeout","cancelFrame","cancel","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","id","resizeListener","e","win","target","srcElement","__resizeRAF__","trigger","__resizeTrigger__","__resizeListeners__","forEach","call","objectLoad","contentDocument","defaultView","__resizeElement__","addEventListener","addResizeListener","element","getComputedStyle","position","style","obj","createElement","setAttribute","onload","type","appendChild","data","push","removeResizeListener","splice","indexOf","length","detachEvent","removeEventListener","removeChild","exports"]
}
