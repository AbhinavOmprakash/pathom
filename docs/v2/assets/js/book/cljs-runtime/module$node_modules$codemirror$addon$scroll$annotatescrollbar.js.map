{
"version":3,
"file":"module$node_modules$codemirror$addon$scroll$annotatescrollbar.js",
"lineCount":7,
"mappings":"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",
"sources":["node_modules/codemirror/addon/scroll/annotatescrollbar.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$codemirror$addon$scroll$annotatescrollbar\"] = function(global,require,module,exports) {\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineExtension(\"annotateScrollbar\", function(options) {\n    if (typeof options == \"string\") options = {className: options};\n    return new Annotation(this, options);\n  });\n\n  CodeMirror.defineOption(\"scrollButtonHeight\", 0);\n\n  function Annotation(cm, options) {\n    this.cm = cm;\n    this.options = options;\n    this.buttonHeight = options.scrollButtonHeight || cm.getOption(\"scrollButtonHeight\");\n    this.annotations = [];\n    this.doRedraw = this.doUpdate = null;\n    this.div = cm.getWrapperElement().appendChild(document.createElement(\"div\"));\n    this.div.style.cssText = \"position: absolute; right: 0; top: 0; z-index: 7; pointer-events: none\";\n    this.computeScale();\n\n    function scheduleRedraw(delay) {\n      clearTimeout(self.doRedraw);\n      self.doRedraw = setTimeout(function() { self.redraw(); }, delay);\n    }\n\n    var self = this;\n    cm.on(\"refresh\", this.resizeHandler = function() {\n      clearTimeout(self.doUpdate);\n      self.doUpdate = setTimeout(function() {\n        if (self.computeScale()) scheduleRedraw(20);\n      }, 100);\n    });\n    cm.on(\"markerAdded\", this.resizeHandler);\n    cm.on(\"markerCleared\", this.resizeHandler);\n    if (options.listenForChanges !== false)\n      cm.on(\"change\", this.changeHandler = function() {\n        scheduleRedraw(250);\n      });\n  }\n\n  Annotation.prototype.computeScale = function() {\n    var cm = this.cm;\n    var hScale = (cm.getWrapperElement().clientHeight - cm.display.barHeight - this.buttonHeight * 2) /\n      cm.getScrollerElement().scrollHeight\n    if (hScale != this.hScale) {\n      this.hScale = hScale;\n      return true;\n    }\n  };\n\n  Annotation.prototype.update = function(annotations) {\n    this.annotations = annotations;\n    this.redraw();\n  };\n\n  Annotation.prototype.redraw = function(compute) {\n    if (compute !== false) this.computeScale();\n    var cm = this.cm, hScale = this.hScale;\n\n    var frag = document.createDocumentFragment(), anns = this.annotations;\n\n    var wrapping = cm.getOption(\"lineWrapping\");\n    var singleLineH = wrapping && cm.defaultTextHeight() * 1.5;\n    var curLine = null, curLineObj = null;\n    function getY(pos, top) {\n      if (curLine != pos.line) {\n        curLine = pos.line;\n        curLineObj = cm.getLineHandle(curLine);\n      }\n      if ((curLineObj.widgets && curLineObj.widgets.length) ||\n          (wrapping && curLineObj.height > singleLineH))\n        return cm.charCoords(pos, \"local\")[top ? \"top\" : \"bottom\"];\n      var topY = cm.heightAtLine(curLineObj, \"local\");\n      return topY + (top ? 0 : curLineObj.height);\n    }\n\n    var lastLine = cm.lastLine()\n    if (cm.display.barWidth) for (var i = 0, nextTop; i < anns.length; i++) {\n      var ann = anns[i];\n      if (ann.to.line > lastLine) continue;\n      var top = nextTop || getY(ann.from, true) * hScale;\n      var bottom = getY(ann.to, false) * hScale;\n      while (i < anns.length - 1) {\n        if (anns[i + 1].to.line > lastLine) break;\n        nextTop = getY(anns[i + 1].from, true) * hScale;\n        if (nextTop > bottom + .9) break;\n        ann = anns[++i];\n        bottom = getY(ann.to, false) * hScale;\n      }\n      if (bottom == top) continue;\n      var height = Math.max(bottom - top, 3);\n\n      var elt = frag.appendChild(document.createElement(\"div\"));\n      elt.style.cssText = \"position: absolute; right: 0px; width: \" + Math.max(cm.display.barWidth - 1, 2) + \"px; top: \"\n        + (top + this.buttonHeight) + \"px; height: \" + height + \"px\";\n      elt.className = this.options.className;\n      if (ann.id) {\n        elt.setAttribute(\"annotation-id\", ann.id);\n      }\n    }\n    this.div.textContent = \"\";\n    this.div.appendChild(frag);\n  };\n\n  Annotation.prototype.clear = function() {\n    this.cm.off(\"refresh\", this.resizeHandler);\n    this.cm.off(\"markerAdded\", this.resizeHandler);\n    this.cm.off(\"markerCleared\", this.resizeHandler);\n    if (this.changeHandler) this.cm.off(\"change\", this.changeHandler);\n    this.div.parentNode.removeChild(this.div);\n  };\n});\n\n};"],
"names":["shadow$provide","global","require","module","exports","mod","define","amd","CodeMirror","Annotation","cm","options","scheduleRedraw","delay","clearTimeout","self","doRedraw","setTimeout","redraw","buttonHeight","scrollButtonHeight","getOption","annotations","doUpdate","div","getWrapperElement","appendChild","document","createElement","style","cssText","computeScale","on","resizeHandler","this.resizeHandler","listenForChanges","changeHandler","this.changeHandler","defineExtension","className","defineOption","prototype","Annotation.prototype.computeScale","hScale","clientHeight","display","barHeight","getScrollerElement","scrollHeight","update","Annotation.prototype.update","Annotation.prototype.redraw","compute","getY","pos","top","curLine","line","curLineObj","getLineHandle","widgets","length","wrapping","height","singleLineH","charCoords","heightAtLine","topY","frag","createDocumentFragment","anns","defaultTextHeight","lastLine","barWidth","i","nextTop","ann","to","from","bottom","Math","max","elt","id","setAttribute","textContent","clear","Annotation.prototype.clear","off","parentNode","removeChild"]
}
