{"version":3,"sources":["fulcro/inspect/ui/dom_history_viewer.cljs"],"mappings":"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","names":["fulcro.client.mutations/mutate","fulcro-incoming-env","_","p__59604","map__59605","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$2","cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic","state","env","fulcro.inspect.helpers.swap_entity_BANG_.cljs$core$IFn$_invoke$arity$variadic","cljs.core/assoc","js/fulcro","js/fulcro.inspect","js/fulcro.inspect.ui","js/fulcro.inspect.ui.dom-history-viewer","js/fulcro.inspect.ui.dom-history-viewer.DOMHistoryView","this__55957__auto__","js/React.Component","G__59719","G__59720","js/React.Component.prototype","G__59721","fulcro.client.primitives/default-component-prototype","goog.object/extend","fulcro.client.primitives/-register-component!","x59722","this__54322__auto__","*reconciler*-orig-val__59731","fulcro.client.primitives/*reconciler*","*depth*-orig-val__59732","fulcro.client.primitives/*depth*","*shared*-orig-val__59733","fulcro.client.primitives/*shared*","*instrument*-orig-val__59734","fulcro.client.primitives/*instrument*","*parent*-orig-val__59735","fulcro.client.primitives/*parent*","*reconciler*-temp-val__59736","fulcro.client.primitives/get-reconciler","*depth*-temp-val__59737","fulcro.client.primitives/depth","*shared*-temp-val__59738","fulcro.client.primitives.shared.cljs$core$IFn$_invoke$arity$1","*instrument*-temp-val__59739","fulcro.client.primitives/instrument","*parent*-temp-val__59740","map__59756","fulcro.client.primitives/props","fulcro.client.primitives.get_computed.cljs$core$IFn$_invoke$arity$1","fulcro-css.css-implementation/get-classnames","x59794","c","params","fulcro.client.primitives/make-state-map","p__59806","map__59808","x59810","p__59843","map__59844","this__55960__auto__","writer__55961__auto__","opt__55962__auto__","cljs.core/-write","fulcro.inspect.ui.dom-history-viewer/DOMHistoryView","this","visible?","app-state","css","fulcro.client.localized_dom.div.cljs$core$IFn$_invoke$arity$variadic","cljs.core/vec","cljs.core.sequence.cljs$core$IFn$_invoke$arity$1","cljs.core/seq","cljs.core.concat.cljs$core$IFn$_invoke$arity$1","cljs.core/List","cljs.core.concat.cljs$core$IFn$_invoke$arity$2","cljs.core/array-map","cljs.core.concat.cljs$core$IFn$_invoke$arity$0","fulcro.client.primitives.transact_BANG_.cljs$core$IFn$_invoke$arity$2","temp__5720__auto__","render-fn","cljs.core/meta","fulcro.inspect.ui.dom-history-viewer/ui-dom-history-view","fulcro.client.primitives.factory.cljs$core$IFn$_invoke$arity$1"],"sourcesContent":["(ns fulcro.inspect.ui.dom-history-viewer\n  (:require [fulcro.client.primitives :as prim :refer [defsc]]\n            [fulcro.client.mutations :as m :refer [defmutation]]\n            [fulcro-css.css :as css]\n            [fulcro.client.localized-dom :as dom]\n            [fulcro.client.primitives :as fp]\n            [fulcro.inspect.helpers :as db.h]))\n\n(defmutation show-dom-preview [{:keys [state]}]\n  (action [env]\n    (db.h/swap-entity! env assoc :ui/visible? true :app-state state))\n\n  (refresh [env] [:ui/historical-dom-view]))\n\n(defmutation hide-dom-preview [_]\n  (action [env]\n    (db.h/swap-entity! env assoc :ui/visible? false))\n  (refresh [env] [:ui/historical-dom-view]))\n\n(defsc DOMHistoryView [this {:keys [ui/visible? app-state]} _ css]\n  {:initial-state {:ui/visible? false :app-state {}}\n   :ident         (fn [] [::dom-viewer :singleton])\n   :query         [:ui/visible? :app-state]\n   :css           [[:.close {:margin-left \"100px\"}]\n                   [:.hidden {:display :none}]\n                   [:.dom-overlay {:z-index          10000\n                                   :position         :absolute\n                                   :width            \"100vw\"\n                                   :height           \"100vh\"\n                                   :top              0\n                                   :left             0\n                                   :opacity          0.8\n                                   :background-color :white}]]}\n\n  (dom/div :.dom-overlay {:className (when-not visible? (:hidden css))\n                          :title     \"Click to close preview.\"\n                          :onClick   #(fp/transact! this `[(hide-dom-preview {})])}\n    (when-let [render-fn (:render-fn (meta app-state))]\n      (render-fn app-state))))\n\n(def ui-dom-history-view (prim/factory DOMHistoryView))\n"]}