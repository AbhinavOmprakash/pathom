{"version":3,"sources":["fulcro/inspect/ui/dom_history_viewer.cljs"],"mappings":"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","names":["fulcro.client.mutations/mutate","fulcro-incoming-env","_","p__63236","map__63237","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply","cljs.core/hash-map","cljs.core.get","cljs.core.merge","state","env","fulcro.inspect.helpers.swap_entity_BANG_","cljs.core/assoc","js/fulcro","js/fulcro.inspect","js/fulcro.inspect.ui","js/fulcro.inspect.ui.dom-history-viewer","js/fulcro.inspect.ui.dom-history-viewer.DOMHistoryView","this__56082__auto__","js/React.Component","goog.object/extend","js/React.Component.prototype","fulcro.client.primitives/default-component-prototype","fulcro.client.primitives/-register-component!","x63295","this__55000__auto__","*reconciler*-orig-val__63299","fulcro.client.primitives/*reconciler*","*depth*-orig-val__63300","fulcro.client.primitives/*depth*","*shared*-orig-val__63301","fulcro.client.primitives/*shared*","*instrument*-orig-val__63302","fulcro.client.primitives/*instrument*","*parent*-orig-val__63303","fulcro.client.primitives/*parent*","*reconciler*-temp-val__63304","fulcro.client.primitives/get-reconciler","*depth*-temp-val__63305","fulcro.client.primitives/depth","*shared*-temp-val__63306","fulcro.client.primitives.shared","*instrument*-temp-val__63307","fulcro.client.primitives/instrument","*parent*-temp-val__63308","map__63322","fulcro.client.primitives/props","fulcro.client.primitives.get_computed","fulcro-css.css-implementation/get-classnames","x63337","c","params","fulcro.client.primitives/make-state-map","p__63374","map__63375","x63386","p__63394","map__63396","this__56085__auto__","writer__56086__auto__","opt__56087__auto__","cljs.core/-write","fulcro.inspect.ui.dom-history-viewer/DOMHistoryView","this","visible?","app-state","css","fulcro.client.localized_dom.div","cljs.core/vec","cljs.core.sequence","cljs.core/seq","cljs.core.concat","cljs.core/List","cljs.core/array-map","fulcro.client.primitives.transact_BANG_","temp__5720__auto__","render-fn","cljs.core/meta","fulcro.inspect.ui.dom-history-viewer/ui-dom-history-view","fulcro.client.primitives.factory"],"sourcesContent":["(ns fulcro.inspect.ui.dom-history-viewer\n  (:require [fulcro.client.primitives :as prim :refer [defsc]]\n            [fulcro.client.mutations :as m :refer [defmutation]]\n            [fulcro-css.css :as css]\n            [fulcro.client.localized-dom :as dom]\n            [fulcro.client.primitives :as fp]\n            [fulcro.inspect.helpers :as db.h]))\n\n(defmutation show-dom-preview [{:keys [state]}]\n  (action [env]\n    (db.h/swap-entity! env assoc :ui/visible? true :app-state state))\n\n  (refresh [env] [:ui/historical-dom-view]))\n\n(defmutation hide-dom-preview [_]\n  (action [env]\n    (db.h/swap-entity! env assoc :ui/visible? false))\n  (refresh [env] [:ui/historical-dom-view]))\n\n(defsc DOMHistoryView [this {:keys [ui/visible? app-state]} _ css]\n  {:initial-state {:ui/visible? false :app-state {}}\n   :ident         (fn [] [::dom-viewer :singleton])\n   :query         [:ui/visible? :app-state]\n   :css           [[:.close {:margin-left \"100px\"}]\n                   [:.hidden {:display :none}]\n                   [:.dom-overlay {:z-index          10000\n                                   :position         :absolute\n                                   :width            \"100vw\"\n                                   :height           \"100vh\"\n                                   :top              0\n                                   :left             0\n                                   :opacity          0.8\n                                   :background-color :white}]]}\n\n  (dom/div :.dom-overlay {:className (when-not visible? (:hidden css))\n                          :title     \"Click to close preview.\"\n                          :onClick   #(fp/transact! this `[(hide-dom-preview {})])}\n    (when-let [render-fn (:render-fn (meta app-state))]\n      (render-fn app-state))))\n\n(def ui-dom-history-view (prim/factory DOMHistoryView))\n"]}