{"version":3,"sources":["com/wsscode/pathom/viz/query_editor.cljs"],"mappings":"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","names":["com.wsscode.pathom.viz.query-editor/remote-key","com.wsscode.pathom.viz.query-editor/safe-read","s","e56868","cljs.reader.read_string.cljs$core$IFn$_invoke$arity$1","_","com.wsscode.pathom.connect/resolver","p__56869","map__56870","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$2","com.wsscode.pathom.viz.query-editor/indexes","client-parser","G__56872","G__56873","com.wsscode.pathom.connect/mutation","p__56874","p__56875","map__56876","map__56877","com.wsscode.pathom.viz.query-editor/run-query","id","query","request-trace?","c__38971__auto__","cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1","cljs.core.async.impl.dispatch/run","f__38972__auto__","switch__38924__auto__","state_56902","state_val_56903","inst_56880","cljs.core/PersistentVector","inst_56881","inst_56882","inst_56884","statearr-56905","statearr-56906","statearr-56907","inst_56886","statearr-56908","statearr-56909","inst_56889","inst_56890","cljs.core/PersistentHashMap","inst_56891","cljs.core.async.impl.ioc-helpers/take!","inst_56893","inst_56894","inst_56895","inst_56896","inst_56897","inst_56898","inst_56899","inst_56900","cljs.core.async.impl.ioc-helpers/return-chan","statearr-56911","state-machine__38925__auto__","ret-value__38926__auto__","result__38927__auto__","cljs.core/keyword-identical?","e56912","js/Object","ex__38928__auto__","statearr-56913","cljs.core.async.impl.ioc-helpers/process-exception","state__38973__auto__","statearr-56915","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped","cljs.core.conj.cljs$core$IFn$_invoke$arity$2","cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic","com.wsscode.pathom.viz.helpers/pprint","cljs.core.apply.cljs$core$IFn$_invoke$arity$3","cljs.core/dissoc","cljs.core/select-keys","var_args","G__56917","com.wsscode.pathom.viz.query-editor/client-card-parser","js/Error","p__56921","map__56923","com.wsscode.pathom.viz.query_editor.client_card_parser.cljs$core$IFn$_invoke$arity$2","wrap-run-query","card-parser","com.wsscode.pathom.core/parallel-parser","com.wsscode.pathom.core/map-reader","com.wsscode.pathom.connect/parallel-reader","com.wsscode.pathom.connect/open-ident-reader","com.wsscode.pathom.connect/mutate-async","com.wsscode.pathom.core/error-handler-plugin","com.wsscode.pathom.core/request-cache-plugin","com.wsscode.pathom.connect.connect_plugin.cljs$core$IFn$_invoke$arity$1","G__56925","cljs.core.update.cljs$core$IFn$_invoke$arity$3","cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2","com.wsscode.pathom.core/trace-plugin","env","tx","G__56926","G__56927","cljs.core.assoc.cljs$core$IFn$_invoke$arity$3","fulcro.client.mutations/mutate","fulcro-incoming-env","map__56928","ast","state","fulcro.client.mutations/returning","com.wsscode.pathom.viz.query-editor/TransactionResponse","com.wsscode.pathom.viz.query-editor/load-indexes","app-or-reconciler","reconciler","or__4131__auto__","root-ident","fulcro.client.primitives/app-state","cljs.core/deref","fulcro.client.data_fetch.load.cljs$core$IFn$_invoke$arity$4","com.wsscode.pathom.viz.query-editor/QueryEditor","js/com","js/com.wsscode","js/com.wsscode.pathom","js/com.wsscode.pathom.viz","js/com.wsscode.pathom.viz.query-editor","js/com.wsscode.pathom.viz.query-editor.TransactionResponse","this__44526__auto__","js/React.Component","G__56934","G__56935","js/React.Component.prototype","G__56936","fulcro.client.primitives/default-component-prototype","goog.object/extend","fulcro.client.primitives/-register-component!","x56937","this__43444__auto__","*reconciler*-orig-val__56938","fulcro.client.primitives/*reconciler*","*depth*-orig-val__56939","fulcro.client.primitives/*depth*","*shared*-orig-val__56940","fulcro.client.primitives/*shared*","*instrument*-orig-val__56941","fulcro.client.primitives/*instrument*","*parent*-orig-val__56942","fulcro.client.primitives/*parent*","*reconciler*-temp-val__56943","fulcro.client.primitives/get-reconciler","*depth*-temp-val__56944","fulcro.client.primitives/depth","*shared*-temp-val__56945","fulcro.client.primitives.shared.cljs$core$IFn$_invoke$arity$1","*instrument*-temp-val__56946","fulcro.client.primitives/instrument","*parent*-temp-val__56947","fulcro.client.primitives/props","x56948","this","props","x56949","this__44529__auto__","writer__44530__auto__","opt__44531__auto__","cljs.core/-write","js/com.wsscode.pathom.viz.query-editor.Button","G__56952","G__56953","G__56954","x56955","*reconciler*-orig-val__56956","*depth*-orig-val__56957","*shared*-orig-val__56958","*instrument*-orig-val__56959","*parent*-orig-val__56960","*reconciler*-temp-val__56961","*depth*-temp-val__56962","*shared*-temp-val__56963","*instrument*-temp-val__56964","*parent*-temp-val__56965","x56966","x56968","com.wsscode.pathom.viz.query-editor/Button","fulcro.client.localized_dom.button.cljs$core$IFn$_invoke$arity$variadic","fulcro.client.primitives/children","com.wsscode.pathom.viz.query-editor/button","fulcro.client.primitives.factory.cljs$core$IFn$_invoke$arity$1","js/com.wsscode.pathom.viz.query-editor.QueryEditor","G__56973","G__56974","G__56975","x56976","*reconciler*-orig-val__56977","*depth*-orig-val__56978","*shared*-orig-val__56979","*instrument*-orig-val__56980","*parent*-orig-val__56981","*reconciler*-temp-val__56982","*depth*-temp-val__56983","*shared*-temp-val__56984","*instrument*-temp-val__56985","*parent*-temp-val__56986","map__56987","map__56988","fulcro.client.primitives.get_computed.cljs$core$IFn$_invoke$arity$1","cljs.core.get.cljs$core$IFn$_invoke$arity$3","fulcro-css.css-implementation/get-classnames","this__43428__auto__","reconciler__43429__auto__","lifecycle__43430__auto__","cljs.core.get_in.cljs$core$IFn$_invoke$arity$2","indexer__43431__auto__","goog.object/set","fulcro.client.impl.protocols/index-component!","G__56996","G__56997","ret__43419__auto__","obj57001","x57002","x57004","result","query-running?","trace","indexes","default-trace-size","editor-props","css","cljs.core/random-uuid","com.wsscode.pathom.viz.trace/D3Trace","js/setTimeout","fulcro.client.primitives.set_state_BANG_.cljs$core$IFn$_invoke$arity$2","map__56998","cljs.core/not","cljs.core.sequence.cljs$core$IFn$_invoke$arity$1","cljs.core/seq","cljs.core.concat.cljs$core$IFn$_invoke$arity$2","cljs.core/List","cljs.core/array-map","fulcro.client.primitives.ptransact_BANG_.cljs$core$IFn$_invoke$arity$2","run-query","fulcro.client.primitives.get_state.cljs$core$IFn$_invoke$arity$2","fulcro.client.localized_dom.div.cljs$core$IFn$_invoke$arity$variadic","fulcro.client.localized_dom.label.cljs$core$IFn$_invoke$arity$variadic","fulcro.client.localized_dom.input.cljs$core$IFn$_invoke$arity$variadic","fulcro.client.mutations/toggle!","G__56991","G__56992","G__56993","G__56994","com.wsscode.pathom.viz.codemirror/pathom","p1__56969#","cljs.core/map?","com.wsscode.pathom.core/elide-not-found","fulcro.client.mutations/set-value!","com.wsscode.pathom.viz.helpers/drag-resize","fulcro.client.localized-dom/div","com.wsscode.pathom.viz.codemirror/clojure","G__56995","p1__56970#","com.wsscode.pathom.viz.trace/d3-trace","js/console.log","com.wsscode.pathom.viz.query-editor/query-editor","fulcro.client.primitives.computed_factory.cljs$core$IFn$_invoke$arity$1"],"sourcesContent":["(ns com.wsscode.pathom.viz.query-editor\n  (:require [cljs.core.async :refer [go <!]]\n            [cljs.reader :refer [read-string]]\n            [com.wsscode.pathom.connect :as pc]\n            [com.wsscode.pathom.core :as p]\n            [com.wsscode.pathom.fulcro.network :as pfn]\n            [com.wsscode.pathom.viz.codemirror :as cm]\n            [com.wsscode.pathom.viz.helpers :as pvh]\n            [com.wsscode.pathom.viz.trace :as pvt]\n            [fulcro.client.data-fetch :as df]\n            [fulcro.client.localized-dom :as dom]\n            [fulcro.client.mutations :as fm]\n            [fulcro.client.primitives :as fp]))\n\n(declare QueryEditor TransactionResponse)\n\n(def remote-key :pathom-query-editor-remote)\n\n(defn safe-read [s]\n  (try\n    (read-string s)\n    (catch :default _ nil)))\n\n;; Parser\n\n(pc/defresolver indexes [{::keys [client-parser]} _]\n  {::pc/output [::pc/indexes]}\n  (client-parser {} [{::pc/indexes [::pc/idents ::pc/index-io ::pc/autocomplete-ignore]}]))\n\n(pc/defmutation run-query [{::keys [client-parser]} {::keys [id query request-trace?]}]\n  {::pc/params [::query]\n   ::pc/output [::id ::result]}\n  (go\n    (let [pull-keys [:com.wsscode.pathom/trace]\n          query     (cond-> (safe-read query) request-trace? (conj :com.wsscode.pathom/trace))\n          response  (<! (client-parser {} query))]\n      (merge\n        {::id                      id\n         ::result                  (pvh/pprint (apply dissoc response pull-keys))\n         :com.wsscode.pathom/trace nil}\n        (select-keys response pull-keys)))))\n\n(defn client-card-parser\n  \"Returns a new parser that will use the card-parser setting the client\n  parser to be `client-parser`.\"\n  ([client-parser] (client-card-parser client-parser {}))\n  ([client-parser {::keys [wrap-run-query]}]\n   (let [card-parser\n         (p/parallel-parser {::p/env     {::p/reader [p/map-reader pc/parallel-reader pc/open-ident-reader]}\n                             ::p/mutate  pc/mutate-async\n                             ::p/plugins [p/error-handler-plugin\n                                          p/request-cache-plugin\n                                          (-> (pc/connect-plugin {::pc/register [indexes (cond-> run-query\n                                                                                           wrap-run-query\n                                                                                           (update ::pc/mutate wrap-run-query))]})\n                                              (dissoc ::pc/register))\n                                          p/trace-plugin]})]\n     (fn [env tx]\n       (card-parser (assoc env ::client-parser client-parser) tx)))))\n\n(fm/defmutation run-query [_]\n  (pathom-query-editor-remote [{:keys [ast state]}]\n    (fm/returning ast state TransactionResponse)))\n\n(defn load-indexes\n  [app-or-reconciler]\n  (let [reconciler (or (:reconciler app-or-reconciler) app-or-reconciler)\n        root-ident (-> reconciler fp/app-state deref :ui/root)]\n    (df/load reconciler root-ident QueryEditor\n      {:focus  [::pc/indexes]\n       :remote remote-key})))\n\n;; UI\n\n(fp/defsc TransactionResponse [_ _]\n  {:ident [::id ::id]\n   :query [::id ::result :com.wsscode.pathom/trace]})\n\n(fp/defsc Button\n  [this props]\n  {:css [[:.container\n          {:font-size   \"11px\"\n           :font-family \"'Open Sans', sans-serif\"\n           :font-weight \"600\"}\n          {:background-color \"#4b5b6d\"\n           :border           \"none\"\n           :border-radius    \"3px\"\n           :color            \"#fff\"\n           :cursor           \"pointer\"\n           :display          \"inline-block\"\n           :padding          \"2px 8px\"\n           :line-height      \"1.5\"\n           :margin-bottom    \"0\"\n           :text-align       \"center\"\n           :white-space      \"nowrap\"\n           :vertical-align   \"middle\"\n           :user-select      \"none\"\n           :outline          \"none\"}\n          [:&:disabled {:background \"#b0c1d6\"\n                        :color      \"#eaeaea\"}]]]}\n  (dom/button :.container props (fp/children this)))\n\n(def button (fp/factory Button))\n\n(fp/defsc QueryEditor\n  [this\n   {::keys                   [query result request-trace?]\n    :ui/keys                 [query-running?]\n    :com.wsscode.pathom/keys [trace]\n    ::pc/keys                [indexes]}\n   {::keys [default-trace-size editor-props]\n    :or    {default-trace-size 400}} css]\n  {:initial-state     (fn [_]\n                        {::id             (random-uuid)\n                         ::request-trace? true\n                         ::query          \"[]\"\n                         ::result         \"\"})\n   :ident             [::id ::id]\n   :query             [::id ::request-trace? ::query ::result :ui/query-running?\n                       ::pc/indexes :com.wsscode.pathom/trace]\n   :css               [[:$CodeMirror {:height   \"100% !important\"\n                                      :width    \"100% !important\"\n                                      :position \"absolute !important\"\n                                      :z-index  \"1\"}\n                        [:$cm-atom-composite {:color \"#ab890d\"}]\n                        [:$cm-atom-ident {:color       \"#219\"\n                                          :font-weight \"bold\"}]]\n                       [:$CodeMirror-hint {:font-size \"10px\"}]\n                       [:.container {:border         \"1px solid #ddd\"\n                                     :display        \"flex\"\n                                     :flex-direction \"column\"\n                                     :flex           \"1\"\n                                     :max-width      \"100%\"\n                                     :min-height     \"200px\"}]\n                       [:.query-row {:display  \"flex\"\n                                     :flex     \"1\"\n                                     :position \"relative\"}]\n                       [:.toolbar {:background    \"#eeeeee\"\n                                   :border-bottom \"1px solid #e0e0e0\"\n                                   :padding       \"5px 4px\"\n                                   :display       \"flex\"\n                                   :align-items   \"center\"\n                                   :font-family   \"sans-serif\"\n                                   :font-size     \"13px\"}\n                        [:label {:display     \"flex\"\n                                 :align-items \"center\"}\n                         [:input {:margin-right \"5px\"}]]]\n                       [:.flex {:flex \"1\"}]\n                       [:.editor {:position \"relative\"}]\n                       [:.divisor-v {:width         \"20px\"\n                                     :background    \"#eee\"\n                                     :border        \"1px solid #e0e0e0\"\n                                     :border-top    \"0\"\n                                     :border-bottom \"0\"\n                                     :z-index       \"2\"}]\n                       [:.divisor-h {:height       \"20px\"\n                                     :background   \"#eee\"\n                                     :border       \"1px solid #e0e0e0\"\n                                     :border-left  \"0\"\n                                     :border-right \"0\"\n                                     :z-index      \"2\"}]\n                       [:.result {:flex     \"1\"\n                                  :position \"relative\"}\n                        [:$CodeMirror {:background \"#f6f7f8\"}]]\n                       [:.trace {:display     \"flex\"\n                                 :padding-top \"18px\"}]]\n   :css-include       [pvt/D3Trace Button]\n   :componentDidMount (fn []\n                        (js/setTimeout\n                          #(fp/set-state! this {:render? true})\n                          100))\n   :initLocalState    (fn []\n                        {:run-query (fn []\n                                      (let [{:ui/keys [query-running?] :as props} (fp/props this)]\n                                        (if-not query-running?\n                                          (fp/ptransact! this [`(fm/set-props {:ui/query-running? true})\n                                                               `(run-query ~props)\n                                                               `(fm/set-props {:ui/query-running? false})]))))})}\n  (let [run-query (fp/get-state this :run-query)]\n    (dom/div :.container\n\n      (dom/div :.toolbar\n        (dom/label\n          (dom/input {:type     \"checkbox\"\n                      :checked  request-trace?\n                      :onChange #(fm/toggle! this ::request-trace?)})\n          \"Request trace\")\n        (dom/div :.flex)\n        (button {:onClick #(load-indexes (fp/get-reconciler this))\n                 :style   {:marginRight \"6px\"}}\n          \"Refresh index\")\n        (button {:onClick  run-query\n                 :disabled query-running?}\n          \"Run query\"))\n\n      (dom/div :.query-row\n        (when (fp/get-state this :render?)\n          (cm/pathom\n            (merge {:className   (:editor css)\n                    :style       {:width (str (or (fp/get-state this :query-width) 400) \"px\")}\n                    :value       (or (str query) \"\")\n                    ::pc/indexes (if (map? indexes) (p/elide-not-found indexes))\n                    ::cm/options {::cm/extraKeys\n                                  {\"Cmd-Enter\"   run-query\n                                   \"Ctrl-Enter\"  run-query\n                                   \"Shift-Enter\" run-query\n                                   \"Cmd-J\"       \"pathomJoin\"\n                                   \"Ctrl-Space\"  \"autocomplete\"}}\n                    :onChange    #(fm/set-value! this ::query %)}\n              editor-props)))\n        (pvh/drag-resize this {:attribute :query-width\n                               :axis      \"x\"\n                               :default   400\n                               :props     {:className (:divisor-v css)}}\n          (dom/div))\n        (if (fp/get-state this :render?)\n          (cm/clojure\n            (merge {:className   (:result css)\n                    :value       result\n                    ::cm/options {::cm/readOnly    true\n                                  ::cm/lineNumbers true}}\n              editor-props))))\n      (if trace\n        (pvh/drag-resize this {:attribute :trace-height\n                               :default   default-trace-size\n                               :props     {:className (:divisor-h css)}}\n          (dom/div)))\n      (if trace\n        (dom/div :.trace {:style {:height (str (or (fp/get-state this :trace-height) default-trace-size) \"px\")}}\n          (pvt/d3-trace {::pvt/trace-data      trace\n                         ::pvt/on-show-details #(js/console.log %)}))))))\n\n(def query-editor (fp/computed-factory QueryEditor))\n"]}